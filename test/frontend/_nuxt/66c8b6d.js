(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{451:function(t,e,o){var content=o(611);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(17).default)("6d09020f",content,!0,{sourceMap:!1})},610:function(t,e,o){"use strict";o(451)},611:function(t,e,o){var n=o(16),r=o(31),d=o(32),l=o(33),c=o(34),f=o(35),m=o(36),h=o(37),v=o(38),w=o(39),y=o(40),x=o(41);e=n(!1);var _=r(d),S=r(l),k=r(c),C=r(f),F=r(m),P=r(h),O=r(v),B=r(w),$=r(y),L=r(x);e.push([t.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+_+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+S+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+k+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+C+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+F+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+P+') format("truetype")}@font-face{font-family:"Garamond";font-style:normal;font-weight:400;font-display:swap;src:url('+O+') format("truetype")}@font-face{font-family:"Garamond-Bold";font-style:normal;font-weight:800;font-display:swap;src:url('+B+') format("truetype")}@font-face{font-family:"Charmonman";font-style:normal;font-weight:400;font-display:swap;src:url('+$+') format("truetype")}@font-face{font-family:"DancingScript-Regular";font-style:normal;font-weight:400;font-display:swap;src:url('+L+') format("truetype")}body[data-v-3e816f43]{margin:0!important;padding:0}*[data-v-3e816f43]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-3e816f43]{padding:6%}button[data-v-3e816f43]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-3e816f43]{width:7%}button.action[data-v-3e816f43]{background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase;transition:all .2s ease-in-out}@media (max-width:768px){button.action[data-v-3e816f43]{padding:2% 5%;width:100%}}button.action.delete[data-v-3e816f43]{background-color:#9d2424;font-size:10px}button.action.delete[data-v-3e816f43]:hover{background-color:#e01010}button.clear[data-v-3e816f43]{background:transparent;padding:2% 5%}h1[data-v-3e816f43],h2[data-v-3e816f43],h3[data-v-3e816f43],h4[data-v-3e816f43],h5[data-v-3e816f43],h6[data-v-3e816f43],p[data-v-3e816f43],span[data-v-3e816f43]{margin:0;padding:0;color:#333}.page[data-v-3e816f43]{padding:5%;margin-top:8vh}@media (max-width:768px){.page[data-v-3e816f43]{padding:7%;margin-top:10vh}}.page.-wh[data-v-3e816f43]{padding:0 0 5%}.page.side-pad[data-v-3e816f43]{padding:2%}@media (max-width:768px){.page.-broad[data-v-3e816f43]{padding:2%}}.page .page-header[data-v-3e816f43]{width:100%;height:8vh;margin-bottom:20px}@media (max-width:768px){.page .page-header[data-v-3e816f43]{height:10vw}}.page .page-header .title[data-v-3e816f43]{color:#333;font-family:"SF-Pro SemiBold";text-transform:uppercase;font-size:1.4vw}@media (max-width:768px){.page .page-header .title[data-v-3e816f43]{font-size:5.4vw}}.page .side-pad[data-v-3e816f43]{padding:0 5%}@media (max-width:768px){.page .side-pad[data-v-3e816f43]{padding:0 10%}}.center[data-v-3e816f43],.center-col[data-v-3e816f43]{display:flex;justify-content:center;align-items:center}.center-col[data-v-3e816f43]{flex-direction:column}.center-space[data-v-3e816f43]{display:flex;justify-content:space-around;align-items:center}.contents[data-v-3e816f43]{position:relative}.white[data-v-3e816f43]{color:#fff}.scrollable-list[data-v-3e816f43]{display:flex;overflow-x:auto;padding:5px}@media screen and (min-width:768px){.scrollable-list[data-v-3e816f43]{justify-content:center}}.scrollable-list[data-v-3e816f43]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-3e816f43]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-3e816f43]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-3e816f43]{margin-top:10px;width:50px}[data-v-3e816f43]::-webkit-scrollbar{display:none}p.msg[data-v-3e816f43]{color:#fff;font-size:10px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:5px;border-radius:4px;margin:10px 0}p.msg.error[data-v-3e816f43]{background-color:#a93737}p.msg.success[data-v-3e816f43]{background-color:#319a67}.section[data-v-3e816f43]{position:relative;margin:10px;padding:5px 5px 30px;border-radius:5px;overflow:hidden}.label[data-v-3e816f43]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:10px;padding:2%;margin-left:5px;font-weight:900}.add-section[data-v-3e816f43]{background-color:#84b284;color:#fff;font-size:11px}',""]),t.exports=e},644:function(t,e,o){"use strict";o.r(e);o(326),o(327),o(42),o(133),o(55),o(26);var n=o(2),r=o(684),d={props:{model:String},data:function(){return{editMode:!1,doc:{_id:"",name:"",slideshow:[],productSections:[],alternateSections:[],description:"",status:!1},allProductLists:[],loading:!1,updated:!1}},mounted:function(){this.fetchAllProductLists()},methods:{alternateImageListUpdated:function(t,e){this.doc.alternateSections[e].image=t.length>0?t[0].path:""},removeProductSection:function(t){this.doc.productSections.splice(t,1)},addNewProductSection:function(){this.doc.productSections.push({heading:"",tagline:"",list:null})},addNewAlternateSection:function(){this.doc.alternateSections.push({heading:"",paragraph:"",image:"",key:Object(r.a)()})},removeAlternateSection:function(t){this.doc.alternateSections.splice(t,1)},fetchAllProductLists:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$fetchCollection("product_lists");case 2:o=e.sent,t.allProductLists=o.docs.map((function(t){var e=t._id;return{name:t.name,value:e}})),t.allProductLists.unshift({name:"Select Product List",value:null});case 5:case"end":return e.stop()}}),e)})))()},slideshowListUpdated:function(t){this.doc.slideshow=t},updateDocument:function(t,details,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.loading=!0,t.next=3,o.$updateDocument(o.model,o.doc,o.editMode);case 3:if(e=t.sent,o.loading=!1,e.updated){t.next=7;break}return t.abrupt("return");case 7:o.$emit("updated"),o.populateForm(e.doc),o.$flash(o);case 10:case"end":return t.stop()}}),t)})))()},deleteDocument:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$deleteDocument(t.model,t.doc._id);case 3:if(o=e.sent,t.loading=!1,o.deleted){e.next=7;break}return e.abrupt("return");case 7:t.$emit("updated"),t.resetForm(),t.$flash(t);case 10:case"end":return e.stop()}}),e)})))()},populateForm:function(details){var t=details._id,e=details.name,o=details.slideshow,n=details.productSections,r=details.alternateSections,d=details.description,l=details.status;this.doc={_id:t,name:e,slideshow:o,productSections:n,alternateSections:r,description:d,status:l},this.editMode=!0},closeForm:function(){this.resetForm(),this.$emit("close")},resetForm:function(){this.populateForm({_id:"",name:"",slideshow:[],productSections:[],alternateSections:[],description:"",status:!1}),this.editMode=!1}}},l=(o(610),o(7)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"contents"},[o("CancelUpdate",{on:{close:t.closeForm}}),t._v(" "),o("h2",{staticClass:"heading"},[t._v(" "+t._s(t.editMode?"Update":"Add New")+" Homepage Layout ")]),t._v(" "),t.editMode?o("InputBox",{attrs:{label:"Homepage Layout ID",disabled:"",internal:!0},model:{value:t.doc._id,callback:function(e){t.$set(t.doc,"_id",e)},expression:"doc._id"}}):t._e(),t._v(" "),o("InputBox",{attrs:{label:"Layout Name"},model:{value:t.doc.name,callback:function(e){t.$set(t.doc,"name",e)},expression:"doc.name"}}),t._v(" "),o("UploadImage",{ref:"imageUploader",attrs:{multipleUpload:!0,label:"Set Slideshow Images"},on:{updated:t.slideshowListUpdated}}),t._v(" "),o("div",{staticClass:"product-sections"},[o("label",{staticClass:"label"},[t._v(" Set Product Sections: ")]),t._v(" "),t._l(t.doc.productSections,(function(section,e){return o("div",{key:e,staticClass:"section shadow"},[o("InputBox",{attrs:{label:"Heading"},model:{value:section.heading,callback:function(e){t.$set(section,"heading",e)},expression:"section.heading"}}),t._v(" "),o("InputBox",{attrs:{label:"Tagline"},model:{value:section.tagline,callback:function(e){t.$set(section,"tagline",e)},expression:"section.tagline"}}),t._v(" "),o("SelectBox",{attrs:{options:t.allProductLists,label:"Select Product List"},model:{value:section.list,callback:function(e){t.$set(section,"list",e)},expression:"section.list"}}),t._v(" "),o("button",{staticClass:"action delete",staticStyle:{"font-size":"9px",position:"absolute",bottom:"0",right:"0"},on:{click:function(o){return t.removeProductSection(e)}}},[t._v(" Remove Product Section ")])],1)})),t._v(" "),o("div",{staticClass:"center"},[o("button",{staticClass:"shadow add-section",on:{click:t.addNewProductSection}},[t._v(" + Add Product Section ")])])],2),t._v(" "),o("div",{staticClass:"alternate-sections"},[o("label",{staticClass:"label"},[t._v(" Set Alternate Sections: ")]),t._v(" "),t._l(t.doc.alternateSections,(function(section,e){return o("div",{key:section.key,staticClass:"section shadow"},[o("InputBox",{attrs:{label:"Heading"},model:{value:section.heading,callback:function(e){t.$set(section,"heading",e)},expression:"section.heading"}}),t._v(" "),o("TextBox",{attrs:{label:"paragraph"},model:{value:section.paragraph,callback:function(e){t.$set(section,"paragraph",e)},expression:"section.paragraph"}}),t._v(" "),o("UploadImage",{ref:"alternateImageUploader",refInFor:!0,attrs:{multipleUpload:!1,label:"Set Background Image"},on:{updated:function(o){return t.alternateImageListUpdated(o,e)}}}),t._v(" "),o("button",{staticClass:"action delete",staticStyle:{"font-size":"9px",position:"absolute",bottom:"0",right:"0"},on:{click:function(o){return t.removeAlternateSection(e)}}},[t._v(" Remove Alternate Section ")])],1)})),t._v(" "),o("div",{staticClass:"center"},[o("button",{staticClass:"shadow add-section",on:{click:t.addNewAlternateSection}},[t._v(" + Add Alternate Section ")])])],2),t._v(" "),o("TextBox",{attrs:{label:"Description",internal:!0},model:{value:t.doc.description,callback:function(e){t.$set(t.doc,"description",e)},expression:"doc.description"}}),t._v(" "),o("Toggle",{attrs:{label:"Status"},model:{value:t.doc.status,callback:function(e){t.$set(t.doc,"status",e)},expression:"doc.status"}}),t._v(" "),o("div",{staticClass:"center-space"},[t.loading?o("img",{staticClass:"loading",attrs:{src:"/loading.gif"}}):t._e(),t._v(" "),t.updated?o("img",{staticClass:"action-complete",attrs:{src:"/complete.gif"}}):t._e(),t._v(" "),o("button",{staticClass:"action",attrs:{disabled:t.loading},on:{click:t.updateDocument}},[t._v(" "+t._s(t.editMode?"Edit":"Add")+" Homepage Layout ")]),t._v(" "),t.editMode?o("button",{staticClass:"action delete",attrs:{disabled:t.loading},on:{click:t.deleteDocument}},[t._v(" Delete ")]):t._e()])],1)}),[],!1,null,"3e816f43",null);e.default=component.exports;installComponents(component,{CancelUpdate:o(345).default,InputBox:o(342).default,UploadImage:o(355).default,SelectBox:o(333).default,TextBox:o(343).default,Toggle:o(344).default})},673:function(t,e,o){"use strict";o.r(e);o(326),o(327),o(70),o(42),o(55),o(71),o(46);var n=o(10),r=(o(26),o(2)),d=o(684);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={layout:"admin",data:function(){return{showForm:!1,loading:!1,model:"homepage_layouts",rawCriterion:{search:{key:"name",term:""},filters:{type:"default"},sortBy:{},limit:20},list:[],sortByFields:["name","status"],headings:["_id","name","description","status"]}},mounted:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{updateList:function(){this.$refs.pagination.fetchResults()},sortToggled:function(t){console.log(t),this.rawCriterion=c(c({},this.rawCriterion),{},{sortBy:t})},documentFetched:function(t){var e=this;this.showForm=!0,this.editMode=!0,t.alternateSections.forEach((function(section){return section.key=Object(d.a)()})),this.$refs.updateComponent.populateForm(t),setTimeout((function(){return e.populateForm(t)}),1200)},populateForm:function(t){var e=this.$refs.updateComponent;if(0!==t.slideshow.length){e.$refs.imageUploader.assignImages(t.slideshow);var i=0;t.alternateSections.forEach((function(section){""!==section.image?(e.$refs.alternateImageUploader[i].assignImages([{_id:"",mainImage:!1,path:section.image}]),i++):i++}))}},resultsFetched:function(t){0!==t.docs.length?this.list=t.docs.map((function(t){return{_id:t._id,name:t.name,description:t.description,status:t.status}})):this.list=[]}}},m=o(7),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"homepages crud"},[o("div",{staticClass:"filters center",class:{updating:t.showForm}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.rawCriterion.search.term,expression:"rawCriterion.search.term"}],staticClass:"search shadow",attrs:{type:"text",placeholder:"Search for Homepage Layouts"},domProps:{value:t.rawCriterion.search.term},on:{input:function(e){e.target.composing||t.$set(t.rawCriterion.search,"term",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"list",class:{updating:t.showForm}},[o("List",{attrs:{list:t.list,model:t.model,headings:t.headings,custom_css:"10% 60% 20% 10%",sortByFields:t.sortByFields},on:{documentFetched:t.documentFetched,sortToggled:t.sortToggled}}),t._v(" "),o("Pagination",{ref:"pagination",attrs:{model:t.model,rawCriterion:t.rawCriterion},on:{resultsFetched:t.resultsFetched}})],1),t._v(" "),o("div",{staticClass:"update",class:{updating:t.showForm}},[o("UpdateHomepageLayout",{directives:[{name:"show",rawName:"v-show",value:t.showForm,expression:"showForm"}],ref:"updateComponent",attrs:{model:t.model},on:{updated:t.updateList,close:function(e){t.showForm=!1}}}),t._v(" "),t.showForm?t._e():o("AddNewItem",{attrs:{label:"Homepage Layout"},on:{showForm:function(e){t.showForm=!0}}})],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{List:o(339).default,Pagination:o(340).default,UpdateHomepageLayout:o(644).default,AddNewItem:o(341).default})}}]);