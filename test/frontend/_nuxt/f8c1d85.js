(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{312:function(e,t,o){var content=o(321);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("40e0da38",content,!0,{sourceMap:!1})},314:function(e,t,o){"use strict";o.r(t);var n={props:{value:String,label:String,options:Array,disabled:{type:Boolean,default:!1},internal:{type:Boolean,default:!1}}},r=(o(320),o(7)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"select-box"},[o("div",{staticStyle:{display:"flex","align-items":"center",width:"50%"}},[e.internal?o("div",{staticClass:"internal"}):e._e(),e._v(" "),void 0!==e.label?o("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]):e._e()]),e._v(" "),o("select",{staticClass:"select shadow",attrs:{disabled:e.disabled},domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},e._l(e.options,(function(option,t){return o("option",{key:t,domProps:{value:option.value}},[e._v(" "+e._s(option.name)+" ")])})),0)])}),[],!1,null,"26ad53e4",null);t.default=component.exports},315:function(e,t,o){var content=o(332);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("2b78e818",content,!0,{sourceMap:!1})},320:function(e,t,o){"use strict";o(312)},321:function(e,t,o){var n=o(17),r=o(29),d=o(30),l=o(31),c=o(32),f=o(33),m=o(34),h=o(35);t=n(!1);var v=r(d),w=r(l),x=r(c),y=r(f),_=r(m),S=r(h);t.push([e.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+v+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+w+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+x+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+y+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+_+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+S+') format("truetype")}body[data-v-26ad53e4]{margin:0!important;padding:0}*[data-v-26ad53e4]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-26ad53e4]{padding:6%}button[data-v-26ad53e4]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-26ad53e4]{width:7%}button.action[data-v-26ad53e4]{background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase}@media (max-width:768px){button.action[data-v-26ad53e4]{padding:2% 5%;width:100%}}button.action.delete[data-v-26ad53e4]{background-color:#9d2424;font-size:10px}button.clear[data-v-26ad53e4]{background:transparent;padding:2% 5%}h1[data-v-26ad53e4],h2[data-v-26ad53e4],h3[data-v-26ad53e4],h4[data-v-26ad53e4],h5[data-v-26ad53e4],h6[data-v-26ad53e4],p[data-v-26ad53e4],span[data-v-26ad53e4]{margin:0;padding:0;color:#333}.page[data-v-26ad53e4]{padding:5%;margin-top:8vh}@media (max-width:768px){.page[data-v-26ad53e4]{padding:7%;margin-top:10vh}}.page.-wh[data-v-26ad53e4]{padding:0 0 5%}.page .page-header[data-v-26ad53e4]{width:100%;height:8vh;margin-bottom:20px}@media (max-width:768px){.page .page-header[data-v-26ad53e4]{height:10vw}}.page .page-header .title[data-v-26ad53e4]{color:#333;font-family:"SF-Pro SemiBold";text-transform:uppercase;font-size:1.4vw}@media (max-width:768px){.page .page-header .title[data-v-26ad53e4]{font-size:5.4vw}}.page .side-pad[data-v-26ad53e4]{padding:0 5%}@media (max-width:768px){.page .side-pad[data-v-26ad53e4]{padding:0 10%}}.center[data-v-26ad53e4],.center-col[data-v-26ad53e4]{display:flex;justify-content:center;align-items:center}.center-col[data-v-26ad53e4]{flex-direction:column}.center-space[data-v-26ad53e4]{display:flex;justify-content:space-around;align-items:center}.white[data-v-26ad53e4]{color:#fff}.scrollable-list[data-v-26ad53e4]{display:flex;overflow-x:auto;padding:10px}@media screen and (min-width:768px){.scrollable-list[data-v-26ad53e4]{justify-content:center}}.scrollable-list[data-v-26ad53e4]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-26ad53e4]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-26ad53e4]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-26ad53e4]{margin-top:10px;width:50px}[data-v-26ad53e4]::-webkit-scrollbar{display:none}.form-container[data-v-26ad53e4]{display:flex;flex-direction:column;box-sizing:border-box;padding:2%;width:100%}.select-box[data-v-26ad53e4]{display:flex;justify-content:space-between;align-items:center}.select-box .internal[data-v-26ad53e4]{height:10px;width:10px;background-color:#1690dc}.select-box .label[data-v-26ad53e4]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:10px;padding:1%;margin-left:5px;font-weight:900}.select-box select[data-v-26ad53e4]{background:#fff;border:none;border-radius:5px;padding:10px 15px;margin:3px;font-size:11px;color:#464646}',""]),e.exports=t},331:function(e,t,o){"use strict";o(315)},332:function(e,t,o){var n=o(17),r=o(29),d=o(30),l=o(31),c=o(32),f=o(33),m=o(34),h=o(35);t=n(!1);var v=r(d),w=r(l),x=r(c),y=r(f),_=r(m),S=r(h);t.push([e.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+v+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+w+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+x+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+y+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+_+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+S+') format("truetype")}body[data-v-6c9ee2ec]{margin:0!important;padding:0}*[data-v-6c9ee2ec]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-6c9ee2ec]{padding:6%}button[data-v-6c9ee2ec]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-6c9ee2ec]{width:7%}button.action[data-v-6c9ee2ec]{background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase}@media (max-width:768px){button.action[data-v-6c9ee2ec]{padding:2% 5%;width:100%}}button.action.delete[data-v-6c9ee2ec]{background-color:#9d2424;font-size:10px}button.clear[data-v-6c9ee2ec]{background:transparent;padding:2% 5%}h1[data-v-6c9ee2ec],h2[data-v-6c9ee2ec],h3[data-v-6c9ee2ec],h4[data-v-6c9ee2ec],h5[data-v-6c9ee2ec],h6[data-v-6c9ee2ec],p[data-v-6c9ee2ec],span[data-v-6c9ee2ec]{margin:0;padding:0;color:#333}.page[data-v-6c9ee2ec]{padding:5%;margin-top:8vh}@media (max-width:768px){.page[data-v-6c9ee2ec]{padding:7%;margin-top:10vh}}.page.-wh[data-v-6c9ee2ec]{padding:0 0 5%}.page .page-header[data-v-6c9ee2ec]{width:100%;height:8vh;margin-bottom:20px}@media (max-width:768px){.page .page-header[data-v-6c9ee2ec]{height:10vw}}.page .page-header .title[data-v-6c9ee2ec]{color:#333;font-family:"SF-Pro SemiBold";text-transform:uppercase;font-size:1.4vw}@media (max-width:768px){.page .page-header .title[data-v-6c9ee2ec]{font-size:5.4vw}}.page .side-pad[data-v-6c9ee2ec]{padding:0 5%}@media (max-width:768px){.page .side-pad[data-v-6c9ee2ec]{padding:0 10%}}.center[data-v-6c9ee2ec],.center-col[data-v-6c9ee2ec]{display:flex;justify-content:center;align-items:center}.center-col[data-v-6c9ee2ec]{flex-direction:column}.center-space[data-v-6c9ee2ec]{display:flex;justify-content:space-around;align-items:center}.white[data-v-6c9ee2ec]{color:#fff}.scrollable-list[data-v-6c9ee2ec]{display:flex;overflow-x:auto;padding:10px}@media screen and (min-width:768px){.scrollable-list[data-v-6c9ee2ec]{justify-content:center}}.scrollable-list[data-v-6c9ee2ec]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-6c9ee2ec]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-6c9ee2ec]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-6c9ee2ec]{margin-top:10px;width:50px}[data-v-6c9ee2ec]::-webkit-scrollbar{display:none}.upload-container[data-v-6c9ee2ec]{width:100%}.upload-container .label[data-v-6c9ee2ec]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:10px;padding:2%;margin-left:5px;font-weight:900}.upload-container .file-selector[data-v-6c9ee2ec]{padding:3px 5px;border-radius:2px;font-size:10px;background-color:#7aa87a;color:#fff}.previews[data-v-6c9ee2ec]{display:flex;flex-wrap:wrap;justify-content:flex-start}.previews .preview[data-v-6c9ee2ec]{height:70px;width:70px;background-size:cover;box-shadow:1px 1px 15px rgba(0,0,0,.16);margin:5px;border-radius:3px;overflow:hidden;cursor:pointer;position:relative}.previews .preview:hover .actions[data-v-6c9ee2ec]{display:flex}.previews .preview:hover .progress[data-v-6c9ee2ec]{display:none}.previews .preview .actions[data-v-6c9ee2ec]{display:none;background-color:rgba(51,51,51,.51373);width:100%;height:100%}.previews .preview .actions .remove-file[data-v-6c9ee2ec],.previews .preview .actions .set-main-image[data-v-6c9ee2ec]{width:30px;height:30px}.previews .preview .progress[data-v-6c9ee2ec]{background-color:rgba(51,51,51,.51373);height:100%;width:100%}.previews .preview .upload-icon[data-v-6c9ee2ec]{width:100%;height:100%}.previews .preview .main-image[data-v-6c9ee2ec]{position:absolute;bottom:0;left:0;width:100%;background:rgba(51,51,51,.51373);color:#fff;font-size:9px;text-align:center}',""]),e.exports=t},333:function(e,t,o){"use strict";o.r(t);o(62),o(192),o(46),o(20),o(52),o(63),o(65),o(51),o(193),o(36);var n=o(2),r={props:{label:{type:String,default:"Add Files"},multipleUpload:{type:Boolean,default:!0},uploaded:Array},data:function(){return{cancelToken:this.$axios.CancelToken,images:[],uploadImageAPI:"/uploadImage"}},methods:{clearFileSelection:function(){this.images=[]},assignImages:function(e){var t=this;if(console.log("ASSIGN IMAGES WAS CALLED"),!(!e.length>0)){this.images=[];e.forEach((function(image){var e={file:null,previewURL:"https://bounipun-ecom.s3.ap-south-1.amazonaws.com/original/"+image.path,cancelToken:null,uploadPercentage:100,uploaded:!0,mainImage:image.mainImage,_id:image._id,path:image.path};t.images.push(e)}))}},addFiles:function(){this.$refs.selector.click()},handleFileSelection:function(){var e=this,t=this.$refs.selector.files;this.multipleUpload||(this.images=[]),t.forEach((function(t){var o=e.createImageObject(t);e.images.push(o),e.uploadFile(o),e.resetFileSelection()}))},createImageObject:function(e){return{file:e,previewURL:URL.createObjectURL(e),cancelToken:this.cancelToken.source(),uploadPercentage:0,uploaded:!1,mainImage:!1,_id:"",path:""}},uploadFile:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r,d,l,c,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(n=new FormData).append("productImage",e.file),r=t.setUploadConfig(e),d=t.$axios.$post(t.uploadImageAPI,n,r),o.next=6,t.$task(d);case 6:if(l=o.sent,c=l.response,!(f=l.error)){o.next=12;break}return t.$axios.isCancel(f)&&console.log("Upload request cancelled"),o.abrupt("return");case 12:t.updateImageObject(e,c);case 13:case"end":return o.stop()}}),o)})))()},setUploadConfig:function(e){return{cancelToken:e.cancelToken.token,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(progress){e.uploadPercentage=parseInt(Math.round(progress.loaded/progress.total*100))}}},updateImageObject:function(e,t){e.uploaded=100===e.uploadPercentage,e.path=t.name,e._id=t._id,this.$emit("updated",this.images)},setMainImage:function(e,t){var o=this;if(t)for(var i=0;i<this.images.length;i++)i!==e&&(this.images[i].mainImage=!1);else setTimeout((function(){o.images[e].mainImage=!0,o.$emit("updated",o.images)}),100)},removeFile:function(e){this.images[e].uploaded||this.images[e].cancelToken.cancel(),this.images.splice(e,1),this.$emit("updated",this.images)},resetFileSelection:function(){this.$refs.selector.type="text",this.$refs.selector.type="file"}}},d=(o(331),o(7)),component=Object(d.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-container"},[o("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),o("input",{ref:"selector",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:e.multipleUpload},on:{change:function(t){return e.handleFileSelection()}}}),e._v(" "),o("button",{staticClass:"file-selector",on:{click:function(t){return e.addFiles()}}},[e._v("\n        Select File(s)\n    ")]),e._v(" "),o("div",{staticClass:"previews"},e._l(e.images,(function(image,t){return o("div",{key:t,staticClass:"preview center",class:{uploading:!image.uploaded},style:{backgroundImage:"url("+image.previewURL+")"}},[o("div",{staticClass:"actions center-col"},[o("img",{staticClass:"remove-file",attrs:{src:"/icons/light/remove-icon.png"},on:{click:function(o){return e.removeFile(t)}}}),e._v(" "),e.multipleUpload?o("input",{directives:[{name:"model",rawName:"v-model",value:image.mainImage,expression:"image.mainImage"}],staticClass:"set-main-image",attrs:{type:"checkbox"},domProps:{checked:image.mainImage,checked:Array.isArray(image.mainImage)?e._i(image.mainImage,null)>-1:image.mainImage},on:{change:[function(t){var o=image.mainImage,n=t.target,r=!!n.checked;if(Array.isArray(o)){var d=e._i(o,null);n.checked?d<0&&e.$set(image,"mainImage",o.concat([null])):d>-1&&e.$set(image,"mainImage",o.slice(0,d).concat(o.slice(d+1)))}else e.$set(image,"mainImage",r)},function(o){return e.setMainImage(t,o.target.checked)}]}}):e._e()]),e._v(" "),image.uploaded?e._e():o("div",{staticClass:"progress center"},[o("vue-ellipse-progress",{attrs:{color:"#41bf89",size:70,thickness:7,legend:!0,fontSize:"1rem",progress:image.uploadPercentage}},[o("img",{staticClass:"upload-icon",attrs:{slot:"legend-caption",wdith:"60px",src:"/icons/light/upload-cloud.svg"},slot:"legend-caption"})])],1),e._v(" "),image.mainImage?o("span",{staticClass:"main-image"},[e._v(" Main Image ")]):e._e()])})),0)])}),[],!1,null,"6c9ee2ec",null);t.default=component.exports},420:function(e,t,o){var content=o(571);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("0ca15878",content,!0,{sourceMap:!1})},570:function(e,t,o){"use strict";o(420)},571:function(e,t,o){var n=o(17),r=o(29),d=o(30),l=o(31),c=o(32),f=o(33),m=o(34),h=o(35);t=n(!1);var v=r(d),w=r(l),x=r(c),y=r(f),_=r(m),S=r(h);t.push([e.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+v+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+w+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+x+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+y+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+_+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+S+') format("truetype")}body[data-v-b9429a9a]{margin:0!important;padding:0}*[data-v-b9429a9a]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-b9429a9a]{padding:6%}button[data-v-b9429a9a]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-b9429a9a]{width:7%}button.action[data-v-b9429a9a]{background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase}@media (max-width:768px){button.action[data-v-b9429a9a]{padding:2% 5%;width:100%}}button.action.delete[data-v-b9429a9a]{background-color:#9d2424;font-size:10px}button.clear[data-v-b9429a9a]{background:transparent;padding:2% 5%}h1[data-v-b9429a9a],h2[data-v-b9429a9a],h3[data-v-b9429a9a],h4[data-v-b9429a9a],h5[data-v-b9429a9a],h6[data-v-b9429a9a],p[data-v-b9429a9a],span[data-v-b9429a9a]{margin:0;padding:0;color:#333}.page[data-v-b9429a9a]{padding:5%;margin-top:8vh}@media (max-width:768px){.page[data-v-b9429a9a]{padding:7%;margin-top:10vh}}.page.-wh[data-v-b9429a9a]{padding:0 0 5%}.page .page-header[data-v-b9429a9a]{width:100%;height:8vh;margin-bottom:20px}@media (max-width:768px){.page .page-header[data-v-b9429a9a]{height:10vw}}.page .page-header .title[data-v-b9429a9a]{color:#333;font-family:"SF-Pro SemiBold";text-transform:uppercase;font-size:1.4vw}@media (max-width:768px){.page .page-header .title[data-v-b9429a9a]{font-size:5.4vw}}.page .side-pad[data-v-b9429a9a]{padding:0 5%}@media (max-width:768px){.page .side-pad[data-v-b9429a9a]{padding:0 10%}}.center[data-v-b9429a9a],.center-col[data-v-b9429a9a]{display:flex;justify-content:center;align-items:center}.center-col[data-v-b9429a9a]{flex-direction:column}.center-space[data-v-b9429a9a]{display:flex;justify-content:space-around;align-items:center}.white[data-v-b9429a9a]{color:#fff}.scrollable-list[data-v-b9429a9a]{display:flex;overflow-x:auto;padding:10px}@media screen and (min-width:768px){.scrollable-list[data-v-b9429a9a]{justify-content:center}}.scrollable-list[data-v-b9429a9a]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-b9429a9a]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-b9429a9a]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-b9429a9a]{margin-top:10px;width:50px}[data-v-b9429a9a]::-webkit-scrollbar{display:none}.section[data-v-b9429a9a]{position:relative;margin:10px;padding:5px 5px 30px;border-radius:5px;overflow:hidden}.label[data-v-b9429a9a]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:10px;padding:2%;margin-left:5px;font-weight:900}.add-section[data-v-b9429a9a]{background-color:#84b284;color:#fff;font-size:11px}',""]),e.exports=t},608:function(e,t,o){"use strict";o.r(t);o(307),o(308),o(40),o(192),o(46),o(36);var n=o(2),r=o(647),d={props:{model:String},data:function(){return{editMode:!1,doc:{_id:"",name:"",slideshow:[],productSections:[],alternateSections:[],description:"",status:!1},allProductLists:[],loading:!1,updated:!1}},mounted:function(){this.fetchAllProductLists()},methods:{alternateImageListUpdated:function(e,t){this.doc.alternateSections[t].image=e.length>0?e[0].path:""},removeProductSection:function(e){this.doc.productSections.splice(e,1)},addNewProductSection:function(){this.doc.productSections.push({heading:"",tagline:"",list:null})},addNewAlternateSection:function(){this.doc.alternateSections.push({heading:"",paragraph:"",image:"",key:Object(r.a)()})},removeAlternateSection:function(e){this.doc.alternateSections.splice(e,1)},fetchAllProductLists:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fetchCollection("product_lists");case 2:o=t.sent,e.allProductLists=o.docs.map((function(e){var t=e._id;return{name:e.name,value:t}})),e.allProductLists.unshift({name:"Select Product List",value:null});case 5:case"end":return t.stop()}}),t)})))()},slideshowListUpdated:function(e){this.doc.slideshow=e},updateDocument:function(e,details,t){var o=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.loading=!0,e.next=3,o.$updateDocument(o.model,o.doc,o.editMode);case 3:if(t=e.sent,o.loading=!1,t.updated){e.next=7;break}return e.abrupt("return");case 7:o.$emit("updated"),o.populateForm(t.doc),o.$flash(o);case 10:case"end":return e.stop()}}),e)})))()},deleteDocument:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$deleteDocument(e.model,e.doc._id);case 3:if(o=t.sent,e.loading=!1,o.deleted){t.next=7;break}return t.abrupt("return");case 7:e.$emit("updated"),e.resetForm(),e.$flash(e);case 10:case"end":return t.stop()}}),t)})))()},populateForm:function(details){var e=details._id,t=details.name,o=details.slideshow,n=details.productSections,r=details.alternateSections,d=details.description,l=details.status;this.doc={_id:e,name:t,slideshow:o,productSections:n,alternateSections:r,description:d,status:l},this.editMode=!0},closeForm:function(){this.resetForm(),this.$emit("close")},resetForm:function(){this.populateForm({_id:"",name:"",slideshow:[],productSections:[],alternateSections:[],description:"",status:!1}),this.editMode=!1}}},l=(o(570),o(7)),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contents"},[o("CancelUpdate",{on:{close:e.closeForm}}),e._v(" "),o("h2",{staticClass:"heading"},[e._v(" "+e._s(e.editMode?"Update":"Add New")+" Homepage Layout ")]),e._v(" "),e.editMode?o("InputBox",{attrs:{label:"Homepage Layout ID",disabled:"",internal:!0},model:{value:e.doc._id,callback:function(t){e.$set(e.doc,"_id",t)},expression:"doc._id"}}):e._e(),e._v(" "),o("InputBox",{attrs:{label:"Layout Name"},model:{value:e.doc.name,callback:function(t){e.$set(e.doc,"name",t)},expression:"doc.name"}}),e._v(" "),o("UploadImage",{ref:"imageUploader",attrs:{multipleUpload:!0,label:"Set Slideshow Images"},on:{updated:e.slideshowListUpdated}}),e._v(" "),o("div",{staticClass:"product-sections"},[o("label",{staticClass:"label"},[e._v(" Set Product Sections: ")]),e._v(" "),e._l(e.doc.productSections,(function(section,t){return o("div",{key:t,staticClass:"section shadow"},[o("InputBox",{attrs:{label:"Heading"},model:{value:section.heading,callback:function(t){e.$set(section,"heading",t)},expression:"section.heading"}}),e._v(" "),o("InputBox",{attrs:{label:"Tagline"},model:{value:section.tagline,callback:function(t){e.$set(section,"tagline",t)},expression:"section.tagline"}}),e._v(" "),o("SelectBox",{attrs:{options:e.allProductLists,label:"Select Product List"},model:{value:section.list,callback:function(t){e.$set(section,"list",t)},expression:"section.list"}}),e._v(" "),o("button",{staticClass:"action delete",staticStyle:{"font-size":"9px",position:"absolute",bottom:"0",right:"0"},on:{click:function(o){return e.removeProductSection(t)}}},[e._v(" Remove Product Section ")])],1)})),e._v(" "),o("div",{staticClass:"center"},[o("button",{staticClass:"shadow add-section",on:{click:e.addNewProductSection}},[e._v(" + Add Product Section ")])])],2),e._v(" "),o("div",{staticClass:"alternate-sections"},[o("label",{staticClass:"label"},[e._v(" Set Alternate Sections: ")]),e._v(" "),e._l(e.doc.alternateSections,(function(section,t){return o("div",{key:section.key,staticClass:"section shadow"},[o("InputBox",{attrs:{label:"Heading"},model:{value:section.heading,callback:function(t){e.$set(section,"heading",t)},expression:"section.heading"}}),e._v(" "),o("TextBox",{attrs:{label:"paragraph"},model:{value:section.paragraph,callback:function(t){e.$set(section,"paragraph",t)},expression:"section.paragraph"}}),e._v(" "),o("UploadImage",{ref:"alternateImageUploader",refInFor:!0,attrs:{multipleUpload:!1,label:"Set Background Image"},on:{updated:function(o){return e.alternateImageListUpdated(o,t)}}}),e._v(" "),o("button",{staticClass:"action delete",staticStyle:{"font-size":"9px",position:"absolute",bottom:"0",right:"0"},on:{click:function(o){return e.removeAlternateSection(t)}}},[e._v(" Remove Alternate Section ")])],1)})),e._v(" "),o("div",{staticClass:"center"},[o("button",{staticClass:"shadow add-section",on:{click:e.addNewAlternateSection}},[e._v(" + Add Alternate Section ")])])],2),e._v(" "),o("TextBox",{attrs:{label:"Description",internal:!0},model:{value:e.doc.description,callback:function(t){e.$set(e.doc,"description",t)},expression:"doc.description"}}),e._v(" "),o("Toggle",{attrs:{label:"Status"},model:{value:e.doc.status,callback:function(t){e.$set(e.doc,"status",t)},expression:"doc.status"}}),e._v(" "),o("div",{staticClass:"center-space"},[e.loading?o("img",{staticClass:"loading",attrs:{src:"/loading.gif"}}):e._e(),e._v(" "),e.updated?o("img",{staticClass:"action-complete",attrs:{src:"/complete.gif"}}):e._e(),e._v(" "),o("button",{staticClass:"action",attrs:{disabled:e.loading},on:{click:e.updateDocument}},[e._v(" "+e._s(e.editMode?"Edit":"Add")+" Homepage Layout ")]),e._v(" "),e.editMode?o("button",{staticClass:"action delete",attrs:{disabled:e.loading},on:{click:e.deleteDocument}},[e._v(" Delete ")]):e._e()])],1)}),[],!1,null,"b9429a9a",null);t.default=component.exports;installComponents(component,{CancelUpdate:o(328).default,InputBox:o(325).default,UploadImage:o(333).default,SelectBox:o(314).default,TextBox:o(326).default,Toggle:o(327).default})},636:function(e,t,o){"use strict";o.r(t);o(307),o(308),o(62),o(40),o(46),o(63),o(51);var n=o(9),r=(o(36),o(2)),d=o(647);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={layout:"admin",data:function(){return{showForm:!1,loading:!1,model:"homepage_layouts",rawCriterion:{search:{key:"name",term:""},filters:{type:"default"},sortBy:{},limit:3},list:[],sortByFields:["name","status"],headings:["_id","name","description","status"]}},mounted:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{updateList:function(){this.$refs.pagination.fetchResults()},sortToggled:function(e){console.log(e),this.rawCriterion=c(c({},this.rawCriterion),{},{sortBy:e})},documentFetched:function(e){var t=this;this.showForm=!0,this.editMode=!0,e.alternateSections.forEach((function(section){return section.key=Object(d.a)()})),this.$refs.updateComponent.populateForm(e),setTimeout((function(){return t.populateForm(e)}),1200)},populateForm:function(e){var t=this.$refs.updateComponent;if(0!==e.slideshow.length){t.$refs.imageUploader.assignImages(e.slideshow);var i=0;e.alternateSections.forEach((function(section){""!==section.image?(t.$refs.alternateImageUploader[i].assignImages([{_id:"",mainImage:!1,path:section.image}]),i++):i++}))}},resultsFetched:function(e){0!==e.docs.length?this.list=e.docs.map((function(e){return{_id:e._id,name:e.name,description:e.description,status:e.status}})):this.list=[]}}},m=o(7),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"homepages crud"},[o("div",{staticClass:"filters center",class:{updating:e.showForm}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.rawCriterion.search.term,expression:"rawCriterion.search.term"}],staticClass:"search shadow",attrs:{type:"text",placeholder:"Search for Homepage Layouts"},domProps:{value:e.rawCriterion.search.term},on:{input:function(t){t.target.composing||e.$set(e.rawCriterion.search,"term",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"list",class:{updating:e.showForm}},[o("List",{attrs:{list:e.list,model:e.model,headings:e.headings,custom_css:"10% 60% 20% 10%",sortByFields:e.sortByFields},on:{documentFetched:e.documentFetched,sortToggled:e.sortToggled}}),e._v(" "),o("Pagination",{ref:"pagination",attrs:{model:e.model,rawCriterion:e.rawCriterion},on:{resultsFetched:e.resultsFetched}})],1),e._v(" "),o("div",{staticClass:"update",class:{updating:e.showForm}},[o("UpdateHomepageLayout",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}],ref:"updateComponent",attrs:{model:e.model},on:{updated:e.updateList,close:function(t){e.showForm=!1}}}),e._v(" "),e.showForm?e._e():o("AddNewItem",{attrs:{label:"Homepage Layout"},on:{showForm:function(t){e.showForm=!0}}})],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{List:o(323).default,Pagination:o(316).default,UpdateHomepageLayout:o(608).default,AddNewItem:o(324).default})}}]);