(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{313:function(e,t,o){"use strict";var n=o(2),r=o(47).find,c=o(115),l=o(21),d=!0,f=l("find");"find"in[]&&Array(1).find((function(){d=!1})),n({target:"Array",proto:!0,forced:d||!f},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c("find")},319:function(e,t,o){var content=o(338);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(20).default)("0d1e63b6",content,!0,{sourceMap:!1})},337:function(e,t,o){"use strict";o(319)},338:function(e,t,o){var n=o(19),r=o(38),c=o(39),l=o(40),d=o(41),f=o(42),m=o(43),h=o(44);t=n(!1);var v=r(c),x=r(l),w=r(d),y=r(f),k=r(m),_=r(h);t.push([e.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+v+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+x+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+w+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+y+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+k+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+_+') format("truetype")}body[data-v-18013001]{margin:0!important;padding:0}*[data-v-18013001]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-18013001]{padding:6%}button[data-v-18013001]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-18013001]{width:7%}button.action[data-v-18013001]{background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase}@media (max-width:768px){button.action[data-v-18013001]{padding:2% 5%;width:100%}}button.action.delete[data-v-18013001]{background-color:#9d2424;font-size:10px}button.clear[data-v-18013001]{background:transparent;padding:2% 5%}h1[data-v-18013001],h2[data-v-18013001],h3[data-v-18013001],h4[data-v-18013001],h5[data-v-18013001],h6[data-v-18013001],p[data-v-18013001],span[data-v-18013001]{margin:0;padding:0;color:#333}.page[data-v-18013001]{padding:5%;margin-top:8vh}@media (max-width:768px){.page[data-v-18013001]{padding:7%;margin-top:10vh}}.page.-wh[data-v-18013001]{padding:0 0 5%}.page .page-header[data-v-18013001]{width:100%;height:8vh;margin-bottom:20px}@media (max-width:768px){.page .page-header[data-v-18013001]{height:10vw}}.page .page-header .title[data-v-18013001]{color:#333;font-family:"SF-Pro SemiBold";text-transform:uppercase;font-size:1.4vw}@media (max-width:768px){.page .page-header .title[data-v-18013001]{font-size:5.4vw}}.page .side-pad[data-v-18013001]{padding:0 5%}@media (max-width:768px){.page .side-pad[data-v-18013001]{padding:0 10%}}.center[data-v-18013001],.center-col[data-v-18013001]{display:flex;justify-content:center;align-items:center}.center-col[data-v-18013001]{flex-direction:column}.center-space[data-v-18013001]{display:flex;justify-content:space-around;align-items:center}.white[data-v-18013001]{color:#fff}.scrollable-list[data-v-18013001]{display:flex;overflow-x:auto;padding:10px}@media screen and (min-width:768px){.scrollable-list[data-v-18013001]{justify-content:center}}.scrollable-list[data-v-18013001]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-18013001]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-18013001]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-18013001]{margin-top:10px;width:50px}[data-v-18013001]::-webkit-scrollbar{display:none}.upload-container[data-v-18013001]{width:100%}.upload-container .label[data-v-18013001]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:10px;padding:2%;margin-left:5px;font-weight:900}.upload-container .file-selector[data-v-18013001]{padding:3px 5px;border-radius:2px;font-size:10px;background-color:#7aa87a;color:#fff}.previews[data-v-18013001]{display:flex;flex-wrap:wrap;justify-content:flex-start}.previews .preview[data-v-18013001]{height:70px;width:70px;background-size:cover;box-shadow:1px 1px 15px rgba(0,0,0,.16);margin:5px;border-radius:3px;overflow:hidden;cursor:pointer;position:relative}.previews .preview:hover .actions[data-v-18013001]{display:flex}.previews .preview:hover .progress[data-v-18013001]{display:none}.previews .preview .actions[data-v-18013001]{display:none;background-color:rgba(51,51,51,.51373);width:100%;height:100%}.previews .preview .actions .remove-file[data-v-18013001],.previews .preview .actions .set-main-image[data-v-18013001]{width:30px;height:30px}.previews .preview .progress[data-v-18013001]{background-color:rgba(51,51,51,.51373);height:100%;width:100%}.previews .preview .upload-icon[data-v-18013001]{width:100%;height:100%}.previews .preview .main-image[data-v-18013001]{position:absolute;bottom:0;left:0;width:100%;background:rgba(51,51,51,.51373);color:#fff;font-size:9px;text-align:center}',""]),e.exports=t},348:function(e,t,o){"use strict";o.r(t);o(61),o(181),o(60),o(16),o(48),o(62),o(63),o(46),o(182),o(32);var n=o(3),r={props:{label:{type:String,default:"Add Files"},multipleUpload:{type:Boolean,default:!0},uploaded:Array},data:function(){return{cancelToken:this.$axios.CancelToken,images:[],uploadImageAPI:"/uploadImage"}},watch:{uploaded:function(e){e.length>0&&this.assignImages()}},methods:{assignImages:function(e){var t=this;if(!(!e.length>0)){this.images=[];var o="https://bounipun-ecom.s3.ap-south-1.amazonaws.com/original/";e.forEach((function(image){console.log(image);var e={file:null,previewURL:o+image.path,cancelToken:null,uploadPercentage:100,uploaded:!0,mainImage:image.mainImage,_id:image._id,path:o+image.path};t.images.push(e)}))}},addFiles:function(){this.$refs.selector.click()},handleFileSelection:function(){var e=this,t=this.$refs.selector.files;this.multipleUpload||(this.images=[]),t.forEach((function(t){var o=e.createImageObject(t);e.images.push(o),e.uploadFile(o),e.resetFileSelection()}))},createImageObject:function(e){return{file:e,previewURL:URL.createObjectURL(e),cancelToken:this.cancelToken.source(),uploadPercentage:0,uploaded:!1,mainImage:!1,_id:"",path:""}},uploadFile:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r,c,l,d,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(n=new FormData).append("productImage",e.file),r=t.setUploadConfig(e),c=t.$axios.$post(t.uploadImageAPI,n,r),o.next=6,t.$task(c);case 6:if(l=o.sent,d=l.response,!(f=l.error)){o.next=12;break}return t.$axios.isCancel(f)&&console.log("Upload request cancelled"),o.abrupt("return");case 12:console.log(d),t.updateImageObject(e,d);case 14:case"end":return o.stop()}}),o)})))()},setUploadConfig:function(e){return{cancelToken:e.cancelToken.token,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(progress){e.uploadPercentage=parseInt(Math.round(progress.loaded/progress.total*100))}}},updateImageObject:function(e,t){e.uploaded=100===e.uploadPercentage,e.path=t.name,e._id=t._id,this.$emit("updated",this.images)},setMainImage:function(e,t){var o=this;if(console.log("value was changed",t),t)for(var i=0;i<this.images.length;i++)i!==e&&(this.images[i].mainImage=!1);else setTimeout((function(){o.images[e].mainImage=!0,o.$emit("updated",o.images)}),100)},removeFile:function(e){this.images[e].uploaded||this.images[e].cancelToken.cancel(),this.images.splice(e,1),this.$emit("updated",this.images)},resetFileSelection:function(){this.$refs.selector.type="text",this.$refs.selector.type="file"}}},c=(o(337),o(7)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-container"},[o("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),o("input",{ref:"selector",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:e.multipleUpload},on:{change:function(t){return e.handleFileSelection()}}}),e._v(" "),o("button",{staticClass:"file-selector",on:{click:function(t){return e.addFiles()}}},[e._v("\n        Select File(s)\n    ")]),e._v(" "),o("div",{staticClass:"previews"},e._l(e.images,(function(image,t){return o("div",{key:t,staticClass:"preview center",class:{uploading:!image.uploaded},style:{backgroundImage:"url("+image.previewURL+")"}},[o("div",{staticClass:"actions center-col"},[o("img",{staticClass:"remove-file",attrs:{src:"/icons/light/remove-icon.png"},on:{click:function(o){return e.removeFile(t)}}}),e._v(" "),e.multipleUpload?o("input",{directives:[{name:"model",rawName:"v-model",value:image.mainImage,expression:"image.mainImage"}],staticClass:"set-main-image",attrs:{type:"checkbox"},domProps:{checked:image.mainImage,checked:Array.isArray(image.mainImage)?e._i(image.mainImage,null)>-1:image.mainImage},on:{change:[function(t){var o=image.mainImage,n=t.target,r=!!n.checked;if(Array.isArray(o)){var c=e._i(o,null);n.checked?c<0&&e.$set(image,"mainImage",o.concat([null])):c>-1&&e.$set(image,"mainImage",o.slice(0,c).concat(o.slice(c+1)))}else e.$set(image,"mainImage",r)},function(o){return e.setMainImage(t,o.target.checked)}]}}):e._e()]),e._v(" "),image.uploaded?e._e():o("div",{staticClass:"progress center"},[o("vue-ellipse-progress",{attrs:{color:"#41bf89",size:70,thickness:7,legend:!0,fontSize:"1rem",progress:image.uploadPercentage}},[o("img",{staticClass:"upload-icon",attrs:{slot:"legend-caption",wdith:"60px",src:"/icons/light/upload-cloud.svg"},slot:"legend-caption"})])],1),e._v(" "),image.mainImage?o("span",{staticClass:"main-image"},[e._v(" Main Image ")]):e._e()])})),0)])}),[],!1,null,"18013001",null);t.default=component.exports},391:function(e,t,o){var content=o(537);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(20).default)("40537654",content,!0,{sourceMap:!1})},392:function(e,t,o){var content=o(539);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(20).default)("7021750e",content,!0,{sourceMap:!1})},535:function(e,t,o){"use strict";var n=o(2),r=o(47).findIndex,c=o(115),l=o(21),d=!0,f=l("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){d=!1})),n({target:"Array",proto:!0,forced:d||!f},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},536:function(e,t,o){"use strict";o(391)},537:function(e,t,o){var n=o(19),r=o(38),c=o(39),l=o(40),d=o(41),f=o(42),m=o(43),h=o(44);t=n(!1);var v=r(c),x=r(l),w=r(d),y=r(f),k=r(m),_=r(h);t.push([e.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+v+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+x+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+w+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+y+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+k+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+_+') format("truetype")}body[data-v-97af3e94]{margin:0!important;padding:0}*[data-v-97af3e94]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-97af3e94]{padding:6%}button[data-v-97af3e94]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-97af3e94]{width:7%}button.action[data-v-97af3e94]{background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase}@media (max-width:768px){button.action[data-v-97af3e94]{padding:2% 5%;width:100%}}button.action.delete[data-v-97af3e94]{background-color:#9d2424;font-size:10px}button.clear[data-v-97af3e94]{background:transparent;padding:2% 5%}h1[data-v-97af3e94],h2[data-v-97af3e94],h3[data-v-97af3e94],h4[data-v-97af3e94],h5[data-v-97af3e94],h6[data-v-97af3e94],p[data-v-97af3e94],span[data-v-97af3e94]{margin:0;padding:0;color:#333}.page[data-v-97af3e94]{padding:5%;margin-top:8vh}@media (max-width:768px){.page[data-v-97af3e94]{padding:7%;margin-top:10vh}}.page.-wh[data-v-97af3e94]{padding:0 0 5%}.page .page-header[data-v-97af3e94]{width:100%;height:8vh;margin-bottom:20px}@media (max-width:768px){.page .page-header[data-v-97af3e94]{height:10vw}}.page .page-header .title[data-v-97af3e94]{color:#333;font-family:"SF-Pro SemiBold";text-transform:uppercase;font-size:1.4vw}@media (max-width:768px){.page .page-header .title[data-v-97af3e94]{font-size:5.4vw}}.page .side-pad[data-v-97af3e94]{padding:0 5%}@media (max-width:768px){.page .side-pad[data-v-97af3e94]{padding:0 10%}}.center[data-v-97af3e94],.center-col[data-v-97af3e94]{display:flex;justify-content:center;align-items:center}.center-col[data-v-97af3e94]{flex-direction:column}.center-space[data-v-97af3e94]{display:flex;justify-content:space-around;align-items:center}.white[data-v-97af3e94]{color:#fff}.scrollable-list[data-v-97af3e94]{display:flex;overflow-x:auto;padding:10px}@media screen and (min-width:768px){.scrollable-list[data-v-97af3e94]{justify-content:center}}.scrollable-list[data-v-97af3e94]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-97af3e94]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-97af3e94]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-97af3e94]{margin-top:10px;width:50px}[data-v-97af3e94]::-webkit-scrollbar{display:none}.checkboxes-container[data-v-97af3e94]{display:flex;flex-direction:column;box-sizing:border-box;padding:2%;width:100%}.checkboxes-container .label[data-v-97af3e94]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:10px;padding:1%;margin-left:5px;font-weight:900}.checkboxes-container .checkboxes[data-v-97af3e94]{box-sizing:border-box;flex-wrap:wrap;padding:1%;width:100%}.checkboxes-container .checkboxes .checkbox[data-v-97af3e94]{padding:10px 15px;margin:10px;width:14%;box-shadow:0 2px 10px rgba(0,0,0,.16)}.checkboxes-container .checkboxes .checkbox .label[data-v-97af3e94]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:9px;padding:1%;margin-top:7px;font-weight:900;text-align:center}.checkboxes-container .checkboxes .checkbox .check-input[data-v-97af3e94]{width:20px;height:20px;cursor:pointer}',""]),e.exports=t},538:function(e,t,o){"use strict";o(392)},539:function(e,t,o){var n=o(19),r=o(38),c=o(39),l=o(40),d=o(41),f=o(42),m=o(43),h=o(44);t=n(!1);var v=r(c),x=r(l),w=r(d),y=r(f),k=r(m),_=r(h);t.push([e.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+v+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+x+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+w+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+y+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+k+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+_+') format("truetype")}body[data-v-37d71a32]{margin:0!important;padding:0}*[data-v-37d71a32]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-37d71a32]{padding:6%}button[data-v-37d71a32]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-37d71a32]{width:7%}button.action[data-v-37d71a32]{background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase}@media (max-width:768px){button.action[data-v-37d71a32]{padding:2% 5%;width:100%}}button.action.delete[data-v-37d71a32]{background-color:#9d2424;font-size:10px}button.clear[data-v-37d71a32]{background:transparent;padding:2% 5%}h1[data-v-37d71a32],h2[data-v-37d71a32],h3[data-v-37d71a32],h4[data-v-37d71a32],h5[data-v-37d71a32],h6[data-v-37d71a32],p[data-v-37d71a32],span[data-v-37d71a32]{margin:0;padding:0;color:#333}.page[data-v-37d71a32]{padding:5%;margin-top:8vh}@media (max-width:768px){.page[data-v-37d71a32]{padding:7%;margin-top:10vh}}.page.-wh[data-v-37d71a32]{padding:0 0 5%}.page .page-header[data-v-37d71a32]{width:100%;height:8vh;margin-bottom:20px}@media (max-width:768px){.page .page-header[data-v-37d71a32]{height:10vw}}.page .page-header .title[data-v-37d71a32]{color:#333;font-family:"SF-Pro SemiBold";text-transform:uppercase;font-size:1.4vw}@media (max-width:768px){.page .page-header .title[data-v-37d71a32]{font-size:5.4vw}}.page .side-pad[data-v-37d71a32]{padding:0 5%}@media (max-width:768px){.page .side-pad[data-v-37d71a32]{padding:0 10%}}.center[data-v-37d71a32],.center-col[data-v-37d71a32]{display:flex;justify-content:center;align-items:center}.center-col[data-v-37d71a32]{flex-direction:column}.center-space[data-v-37d71a32]{display:flex;justify-content:space-around;align-items:center}.white[data-v-37d71a32]{color:#fff}.scrollable-list[data-v-37d71a32]{display:flex;overflow-x:auto;padding:10px}@media screen and (min-width:768px){.scrollable-list[data-v-37d71a32]{justify-content:center}}.scrollable-list[data-v-37d71a32]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-37d71a32]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-37d71a32]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-37d71a32]{margin-top:10px;width:50px}[data-v-37d71a32]::-webkit-scrollbar{display:none}.checkboxes-container[data-v-37d71a32]{display:flex;flex-direction:column;box-sizing:border-box;padding:2%;width:100%}.checkboxes-container .label[data-v-37d71a32]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:10px;padding:1%;margin-left:5px;font-weight:900}.checkboxes-container .checkboxes[data-v-37d71a32]{box-sizing:border-box;flex-wrap:wrap;padding:1%;width:100%}.checkboxes-container .checkboxes .checkbox[data-v-37d71a32]{padding:10px;width:20%;box-sizing:border-box}.checkboxes-container .checkboxes .checkbox .label[data-v-37d71a32]{font-family:"SF-Pro Bold";color:#7f7f7f;text-transform:uppercase;font-size:8px;padding:1%;margin-top:7px;font-weight:900;text-align:center}.checkboxes-container .checkboxes .checkbox .price[data-v-37d71a32]{width:100%;text-align:center;border:none;margin-top:3px;padding:1px;box-sizing:border-box;font-size:11px}.checkboxes-container .checkboxes .checkbox .price[data-v-37d71a32]::-moz-placeholder{opacity:.6}.checkboxes-container .checkboxes .checkbox .price[data-v-37d71a32]:-ms-input-placeholder{opacity:.6}.checkboxes-container .checkboxes .checkbox .price[data-v-37d71a32]::placeholder{opacity:.6}.checkboxes-container .checkboxes .checkbox .check-input[data-v-37d71a32]{width:15px;height:15px;cursor:pointer}',""]),e.exports=t},567:function(e,t,o){"use strict";o.r(t);o(293),o(294),o(76),o(313),o(535),o(61),o(33),o(181),o(60),o(62),o(32);var n=o(3),r={props:{model:String,collections:Array,variants:Array,fabrics:Array},watch:{selectedVariantsWithFabricOptions:function(e){console.log("changed",e)}},computed:{selectedVariants:function(){return this.variants.filter((function(e){return e.checked}))},selectedVariantsWithFabricOptions:function(){var e=this;return this.selectedVariants.map((function(t){return{_id:t._id,name:t.name,fabrics:e.fabrics}}))}},data:function(){return{editMode:!1,doc:{_id:"",styleId:"",name:"",slug:"",description:"",type:"",bounipun_collection:"",colorSource:"",variants:[],colors:[],status:!1},types:[{name:"Select Type",value:""},{name:"Made to Order",value:"made-to-order"},{name:"Ready to Ship",value:"ready-to-ship"}],colorSourceTypes:[{name:"Select Source",value:""},{name:"Bounipun Colors",value:"bounipun-colors"},{name:"Custom",value:"custom"}],loading:!1,updated:!1}},methods:{populateVariants:function(e){var t=this;console.log(e),e.forEach((function(e){t.variants.find((function(t){return t._id===e._id})).checked=!0}))},imageListUpdated:function(e,t){console.log(e,t),this.doc.colors[t].images=e},addNewColor:function(){this.doc.colors.push({_id:null,name:"",images:[]})},removeColor:function(e){1!==this.doc.colors.length&&this.doc.colors.splice(e,1)},fabricSelectionUpdated:function(e){var details={_id:e._id,fabrics:e.fabrics},t=this.doc.variants.findIndex((function(element){return element._id===e._id}));-1===t?this.doc.variants.push(details):this.doc.variants[t]=details,this.doc.variants=this.doc.variants.filter((function(e){return 0!==e.fabrics.length})),console.log(this.doc.variants)},updateDocument:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.doc),e.loading=!0,t.next=4,e.$updateDocument(e.model,e.doc,e.editMode);case 4:if(o=t.sent,e.loading=!1,o.updated){t.next=8;break}return t.abrupt("return");case 8:e.$emit("updated"),e.populateForm(o.doc),e.$flash(e);case 11:case"end":return t.stop()}}),t)})))()},deleteDocument:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$deleteDocument(e.model,e.doc._id);case 3:if(o=t.sent,e.loading=!1,o.deleted){t.next=7;break}return t.abrupt("return");case 7:e.$emit("updated"),e.resetForm(),e.$flash(e);case 10:case"end":return t.stop()}}),t)})))()},populateForm:function(details){var e=details._id,t=details.styleId,o=details.name,n=details.slug,r=details.description,c=details.type,l=details.bounipun_collection,d=details.colorSource,f=details.variants,m=details.colors,h=details.status;this.doc={_id:e,styleId:t,name:o,slug:n,description:r,type:c,bounipun_collection:l,colorSource:d,variants:f,colors:m,status:h},this.editMode=!0},closeForm:function(){this.resetForm(),this.$emit("close")},resetForm:function(){this.populateForm({_id:"",styleId:"",name:"",slug:"",description:"",type:"",bounipun_collection:"",colorSource:"",variants:[],colors:[],status:!1}),this.editMode=!1}}},c=o(7),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contents"},[o("CancelUpdate",{on:{close:e.closeForm}}),e._v(" "),o("h2",{staticClass:"heading"},[e._v(" "+e._s(e.editMode?"Update":"Add New")+" Product ")]),e._v(" "),e.editMode?o("InputBox",{attrs:{label:"Product ID"},model:{value:e.doc._id,callback:function(t){e.$set(e.doc,"_id",t)},expression:"doc._id"}}):e._e(),e._v(" "),o("InputBox",{attrs:{label:"Bounipun Style ID"},model:{value:e.doc.styleId,callback:function(t){e.$set(e.doc,"styleId",t)},expression:"doc.styleId"}}),e._v(" "),o("InputBox",{attrs:{label:"Product Name"},model:{value:e.doc.name,callback:function(t){e.$set(e.doc,"name",t)},expression:"doc.name"}}),e._v(" "),o("InputBox",{attrs:{label:"Slug"},model:{value:e.doc.slug,callback:function(t){e.$set(e.doc,"slug",t)},expression:"doc.slug"}}),e._v(" "),o("TextBox",{attrs:{label:"Description"},model:{value:e.doc.description,callback:function(t){e.$set(e.doc,"description",t)},expression:"doc.description"}}),e._v(" "),o("SelectBox",{attrs:{options:e.types,label:"Select Collection"},model:{value:e.doc.type,callback:function(t){e.$set(e.doc,"type",t)},expression:"doc.type"}}),e._v(" "),o("SelectBox",{attrs:{options:e.collections,label:"Select Collection"},model:{value:e.doc.bounipun_collection,callback:function(t){e.$set(e.doc,"bounipun_collection",t)},expression:"doc.bounipun_collection"}}),e._v(" "),o("SelectBox",{attrs:{options:e.colorSourceTypes,label:"Select Color Source"},model:{value:e.doc.colorSource,callback:function(t){e.$set(e.doc,"colorSource",t)},expression:"doc.colorSource"}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.doc.colorSource,expression:"doc.colorSource !== ''"}],staticClass:"colors",staticStyle:{width:"100%",position:"relative"}},[e._l(e.doc.colors,(function(t,n){return o("div",{key:n,staticStyle:{position:"relative"}},["custom"===e.doc.colorSource?o("InputBox",{attrs:{label:"New Color Name"},model:{value:t.name,callback:function(o){e.$set(t,"name",o)},expression:"color.name"}}):e._e(),e._v(" "),o("UploadImage",{ref:"imageUploader",refInFor:!0,attrs:{label:"Upload Images"},on:{updated:function(t){return e.imageListUpdated(t,n)}}}),e._v(" "),o("button",{staticClass:"action delete",staticStyle:{"font-size":"9px",position:"absolute",bottom:"0",right:"0"},on:{click:function(t){return e.removeColor(n)}}},[e._v(" Remove Color ")]),e._v(" "),o("hr",{staticStyle:{opacity:"0.3"},attrs:{width:"100%"}})],1)})),e._v(" "),o("button",{staticClass:"action",staticStyle:{"font-size":"9px",position:"absolute",bottom:"-30px",right:"10px"},on:{click:e.addNewColor}},[e._v(" Add Color ")])],2),e._v(" "),o("c-boxes",{attrs:{options:e.variants,label:"Variants"}}),e._v(" "),e._l(e.selectedVariantsWithFabricOptions,(function(t,n){return o("fabric-selector",{key:n,ref:"fabricSelector",refInFor:!0,attrs:{label:t.name,variant:t},on:{fabricSelectionUpdated:e.fabricSelectionUpdated}})})),e._v(" "),o("Toggle",{attrs:{label:"Status"},model:{value:e.doc.status,callback:function(t){e.$set(e.doc,"status",t)},expression:"doc.status"}}),e._v(" "),o("div",{staticClass:"center-space"},[e.loading?o("img",{staticClass:"loading",attrs:{src:"/loading.gif"}}):e._e(),e._v(" "),e.updated?o("img",{staticClass:"action-complete",attrs:{src:"/complete.gif"}}):e._e(),e._v(" "),o("button",{staticClass:"action",attrs:{disabled:e.loading},on:{click:e.updateDocument}},[e._v(" "+e._s(e.editMode?"Edit":"Add")+" Product ")]),e._v(" "),e.editMode?o("button",{staticClass:"action delete",attrs:{disabled:e.loading},on:{click:e.deleteDocument}},[e._v(" Delete ")]):e._e()])],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CancelUpdate:o(311).default,InputBox:o(304).default,TextBox:o(310).default,SelectBox:o(298).default,UploadImage:o(348).default,CBoxes:o(574).default,FabricSelector:o(575).default,Toggle:o(305).default})},574:function(e,t,o){"use strict";o.r(t);var n={props:{label:String,options:{type:Array,default:function(){return[]}}}},r=(o(536),o(7)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"checkboxes-container"},[o("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),o("div",{staticClass:"checkboxes center"},e._l(e.options,(function(option,t){return o("div",{key:t,staticClass:"checkbox center-col"},[o("input",{directives:[{name:"model",rawName:"v-model",value:option.checked,expression:"option.checked"}],staticClass:"check-input",attrs:{type:"checkbox"},domProps:{value:option.value,checked:Array.isArray(option.checked)?e._i(option.checked,option.value)>-1:option.checked},on:{change:function(t){var o=option.checked,n=t.target,r=!!n.checked;if(Array.isArray(o)){var c=option.value,l=e._i(o,c);n.checked?l<0&&e.$set(option,"checked",o.concat([c])):l>-1&&e.$set(option,"checked",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(option,"checked",r)}}}),e._v(" "),o("label",{staticClass:"label"},[e._v(" "+e._s(option.name)+" ")])])})),0)])}),[],!1,null,"97af3e94",null);t.default=component.exports},575:function(e,t,o){"use strict";o.r(t);o(76),o(33),o(60);var n={props:{label:String,variant:Object,options:{type:Array,default:function(){return[]}}},watch:{selectedFabrics:function(){this.updateSelectionList()}},computed:{selectedFabrics:function(){var e=this.localVariant.fabrics.filter((function(e){return e.checked}));return e.map((function(e){return{_id:e._id,name:e.name,price:e.price}}))}},methods:{populateFabricSelection:function(e){console.log(e,"hiii there")},updateSelectionList:function(){this.$emit("fabricSelectionUpdated",{name:this.variant.name,_id:this.variant._id,fabrics:this.selectedFabrics})}},data:function(){return{localVariant:JSON.parse(JSON.stringify(this.variant))}}},r=(o(538),o(7)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"checkboxes-container fabric-selctor"},[o("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),o("div",{staticClass:"checkboxes center"},e._l(e.localVariant.fabrics,(function(option,t){return o("div",{key:t,staticClass:"checkbox center-col"},[o("input",{directives:[{name:"model",rawName:"v-model",value:option.checked,expression:"option.checked"}],staticClass:"check-input",attrs:{type:"checkbox"},domProps:{value:option.value,checked:Array.isArray(option.checked)?e._i(option.checked,option.value)>-1:option.checked},on:{change:function(t){var o=option.checked,n=t.target,r=!!n.checked;if(Array.isArray(o)){var c=option.value,l=e._i(o,c);n.checked?l<0&&e.$set(option,"checked",o.concat([c])):l>-1&&e.$set(option,"checked",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(option,"checked",r)}}}),e._v(" "),o("label",{staticClass:"label"},[e._v(" "+e._s(option.name)+" ")]),e._v(" "),option.checked?o("input",{directives:[{name:"model",rawName:"v-model",value:option.price,expression:"option.price"}],staticClass:"price shadow",attrs:{type:"text",placeholder:"Price"},domProps:{value:option.price},on:{input:function(t){t.target.composing||e.$set(option,"price",t.target.value)}}}):e._e()])})),0)])}),[],!1,null,"37d71a32",null);t.default=component.exports},590:function(e,t,o){"use strict";o.r(t);o(293),o(294),o(313),o(61),o(33),o(60),o(62),o(46),o(32);var n=o(3),r={layout:"admin",data:function(){return{showForm:!1,loading:!1,model:"products",filters:[{name:"All Products",value:"all"},{name:"Karakul",value:"karakul"}],selectedFilter:"all",list:[],headings:["_id","StyleID","Name","Slug","Description","Type","Collection","Status"],collections:[],variants:[],fabrics:[]}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchBounipunCollections();case 2:return t.next=4,e.fetchVariants();case 4:return t.next=6,e.fetchFabrics();case 6:return t.next=8,e.fetchList();case 8:case"end":return t.stop()}}),t)})))()},methods:{fetchFabrics:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fetchCollection("fabrics");case 2:o=t.sent,e.fabrics=o.docs.map((function(e){var t=e._id;return{name:e.name,value:t,_id:t,checked:!1,price:""}}));case 4:case"end":return t.stop()}}),t)})))()},fetchVariants:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fetchCollection("variants");case 2:o=t.sent,e.variants=o.docs.map((function(e){var t=e._id;return{name:e.name,_id:t,value:t,checked:!1}}));case 4:case"end":return t.stop()}}),t)})))()},fetchBounipunCollections:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fetchCollection("collections");case 2:o=t.sent,e.collections=o.docs.map((function(e){var t=e._id;return{name:e.name,value:t}})),e.collections.unshift({name:"Select Collection",value:""});case 5:case"end":return t.stop()}}),t)})))()},documentFetched:function(e){var t=this;this.showForm=!0,this.editMode=!0,this.$refs.updateComponent.populateForm(e),0!==e.colors.length&&setTimeout((function(){t.$refs.updateComponent.populateVariants(e.variants);var i=0;e.colors.forEach((function(e){0!==e.images.length?(t.$refs.updateComponent.$refs.imageUploader[i].assignImages(e.images),i++):i++}))}),1300)},fetchList:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$fetchCollection(e.model);case 3:if(o=t.sent,e.loading=!1,o.fetched&&0!==o.docs.length){t.next=8;break}return e.list=[],t.abrupt("return");case 8:e.list=o.docs.map((function(t){var o=t._id,n=t.styleId,r=t.name,c=t.slug,l=t.description,d=t.type,f=t.bounipun_collection,m=t.status;return{_id:o,styleId:n,name:r,slug:c,description:l,type:d,bounipun_collection:e.collections.find((function(col){return col.value===f})).name,status:m}}));case 9:case"end":return t.stop()}}),t)})))()}}},c=o(7),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"products crud"},[o("div",{staticClass:"filters center",class:{updating:e.showForm}},[o("input",{staticClass:"search shadow",attrs:{type:"text",placeholder:"Search for Products"}}),e._v(" "),o("SelectBox",{attrs:{options:e.filters},model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}})],1),e._v(" "),o("div",{staticClass:"list",class:{updating:e.showForm}},[o("List",{attrs:{list:e.list,model:e.model,headings:e.headings,custom_css:"10% 10% 20% 20% 10% 10% 10% 10%"},on:{documentFetched:e.documentFetched}})],1),e._v(" "),o("div",{staticClass:"update",class:{updating:e.showForm}},[o("UpdateProduct",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}],ref:"updateComponent",attrs:{model:e.model,collections:e.collections,variants:e.variants,fabrics:e.fabrics},on:{updated:e.fetchList,close:function(t){e.showForm=!1}}}),e._v(" "),e.showForm?e._e():o("AddNewItem",{attrs:{label:"Product"},on:{showForm:function(t){e.showForm=!0}}})],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SelectBox:o(298).default,List:o(303).default,UpdateProduct:o(567).default,AddNewItem:o(309).default})}}]);