(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{578:function(t,e,r){},597:function(t,e,r){"use strict";r(578)},661:function(t,e,r){"use strict";r.r(e);var n=r(3),c=(r(22),r(24),r(13),r(33),r(28),r(540),{props:{currentProductId:{type:String,default:""}},watch:{currentProductId:{handler:function(t){this.fetchRecentlyViewed()},immediate:!0}},data:function(){return{recentlyViewedProducts:[]}},computed:{isEmpty:function(){return 0===this.recentlyViewedProducts.length}},methods:{fetchRecentlyViewed:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=t.$store.state.customer.recentlyViewed)&&0!==r.length){e.next=3;break}return e.abrupt("return");case 3:return n=r.filter((function(e){return e.product!==t.currentProductId})),e.next=6,t.$post("/fetchRecentlyViewed",{entries:n});case 6:if(!1!==(c=e.sent).resolved){e.next=9;break}return e.abrupt("return");case 9:(o=c.response.products).forEach((function(t){void 0===t.rtsDirectVariant&&""!==t.rtsDirectVariant||(t.rtsDirectVariant=t.rtsDirectVariant.name),t.colors=t.colors.filter((function(t){return!0===t.status})),t.variants.sort((function(a,b){return a._id.order-b._id.order}))})),o=o.filter((function(t){return t.colors.length>0})),t.recentlyViewedProducts=c.response.products;case 13:case"end":return e.stop()}}),e)})))()}}}),o=(r(597),r(9)),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isEmpty?t._e():r("div",{staticClass:"recently-viewed"},[r("h2",{staticClass:"title"},[t._v("Recently Viewed")]),t._v(" "),r("div",{staticClass:"flex center"},[r("div",{staticClass:"flex wrap"},t._l(t.recentlyViewedProducts,(function(t,e){return r("product-card",{key:e,attrs:{product:t}})})),1)])])}),[],!1,null,"f83edec8",null);e.default=component.exports;installComponents(component,{ProductCard:r(542).default})}}]);