(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{665:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,d="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",c=null,l=function(e){return null!==c||(c=new Promise((function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(d),window.Stripe)t(window.Stripe);else try{var script=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r,'"]')),i=0;i<e.length;i++){var script=e[i];if(o.test(script.src))return script}return null}();script&&e?console.warn(d):script||(script=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",script=document.createElement("script");script.src="".concat(r).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(script),script}(e)),script.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),script.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(e){return void n(e)}else t(null)}))),c},f=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.22.0",startTime:t})}(r,n),r},m=Promise.resolve().then((function(){return l(null)})),y=!1;m.catch((function(e){y||console.warn(e)}));var h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y=!0;var r=Date.now();return m.then((function(e){return f(e,t,r)}))}},666:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r,o,d={keyId:""},c={publishableKey:""};o=c,(r=d).keyId="rzp_test_LnJPEC0MOtvlSn",o.publishableKey="pk_test_51J0qm7SAJnKcquR3vsOUPap0r0P1vwuEA75yfexoRqRRouVuc2uagePU0RZOPFCDK6VNAhgHOSnzJOfRYo78YUhQ00C4FhrbSV","bounipun.in"===window.location.hostname&&(r.keyId="rzp_live_bzpnf6YPxKKfTh",o.publishableKey="pk_live_51J0qm7SAJnKcquR3JZ1T9qVG8lGA4bIflVcp5TZFWYP06n6XPLWojyNYUc5PMUFEwWCoe62IHW9HsnebRlpl5Scw00LC38Ktxu");var l=d.keyId,f=c.publishableKey},724:function(e,t,n){var content=n(839);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("819c91ca",content,!0,{sourceMap:!1})},838:function(e,t,n){"use strict";n(724)},839:function(e,t,n){var r=n(21),o=n(31),d=n(32),c=n(33),l=n(34),f=n(35),m=n(36),y=n(37),h=n(38),v=n(39),w=n(40),x=n(41),k=r(!1),P=o(d),S=o(c),j=o(l),O=o(f),z=o(m),C=o(y),R=o(h),_=o(v),A=o(w),I=o(x);k.push([e.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+P+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+S+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+j+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+O+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+z+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+C+') format("truetype")}@font-face{font-family:"Garamond";font-style:normal;font-weight:400;font-display:swap;src:url('+R+') format("truetype")}@font-face{font-family:"Garamond-Bold";font-style:normal;font-weight:800;font-display:swap;src:url('+_+') format("truetype")}@font-face{font-family:"Charmonman";font-style:normal;font-weight:400;font-display:swap;src:url('+A+') format("truetype")}@font-face{font-family:"DancingScript-Regular";font-style:normal;font-weight:400;font-display:swap;src:url('+I+') format("truetype")}.w-bold b[data-v-02b8732d]{font-family:"SF-Pro Bold";font-size:14px;text-transform:uppercase}html[data-v-02b8732d]{scroll-behavior:smooth}body[data-v-02b8732d]{margin:0!important;padding:0}*[data-v-02b8732d]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-02b8732d]{padding:6%}button[data-v-02b8732d]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-02b8732d]{width:7%}button.sub-action[data-v-02b8732d]{background-color:green}button.action[data-v-02b8732d]{position:relative;background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase;transition:all .2s ease-in-out}button.action[data-v-02b8732d]:hover{background-color:#0e0e0e}@media(max-width:768px){button.action[data-v-02b8732d]{padding:2% 5%;width:100%}}button.action.delete[data-v-02b8732d]{background-color:#9d2424;font-size:10px}button.action.delete[data-v-02b8732d]:hover{background-color:#e01010}button.small[data-v-02b8732d]{font-size:11px;padding:1% 3%}button.clear[data-v-02b8732d]{background:transparent;padding:2% 5%}h1[data-v-02b8732d],h2[data-v-02b8732d],h3[data-v-02b8732d],h4[data-v-02b8732d],h5[data-v-02b8732d],h6[data-v-02b8732d],p[data-v-02b8732d],span[data-v-02b8732d]{margin:0;padding:0;color:#333}.page[data-v-02b8732d]{min-height:80vh;padding:5%;margin-top:20vh}@media(max-width:768px){.page[data-v-02b8732d]{margin-top:13vh;padding:7%}}.page.-wh[data-v-02b8732d]{padding:0 0 5%}.page.side-pad[data-v-02b8732d]{padding:2%}@media(max-width:768px){.page.-broad[data-v-02b8732d]{padding:2%}}.page .page-header[data-v-02b8732d]{width:100%;height:8vh;margin-bottom:20px;background-color:#efefef}@media(max-width:768px){.page .page-header[data-v-02b8732d]{height:10vw}}.page .page-header .title[data-v-02b8732d]{color:#333;font-family:"Poppins SemiBold";text-transform:uppercase;font-size:1.3vw}@media(max-width:768px){.page .page-header .title[data-v-02b8732d]{font-size:5.4vw}}.page .side-pad[data-v-02b8732d]{padding:0 5%}@media(max-width:768px){.page .side-pad[data-v-02b8732d]{padding:0 10%}}.pointer[data-v-02b8732d]{cursor:pointer}.center[data-v-02b8732d],.center-col[data-v-02b8732d]{display:flex;justify-content:center;align-items:center}.center-col[data-v-02b8732d]{flex-direction:column}.center-space[data-v-02b8732d]{display:flex;justify-content:space-around;align-items:center}.contents[data-v-02b8732d]{position:relative}.white[data-v-02b8732d]{color:#fff}.scrollable-list[data-v-02b8732d]{display:flex;overflow-x:auto;padding:5px}@media screen and (min-width:768px){.scrollable-list[data-v-02b8732d]{justify-content:center}}.scrollable-list[data-v-02b8732d]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-02b8732d]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-02b8732d]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-02b8732d]{margin-top:10px;width:50px}[data-v-02b8732d]::-webkit-scrollbar{display:none}p.msg[data-v-02b8732d]{color:#fff;font-size:10px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:5px;border-radius:4px;margin:10px 0}p.msg.error[data-v-02b8732d]{background-color:#a93737}p.msg.success[data-v-02b8732d]{background-color:#319a67}.flex[data-v-02b8732d]{display:flex}.flex.around[data-v-02b8732d]{justify-content:space-around}.flex.between[data-v-02b8732d]{justify-content:space-between}.flex.evenly[data-v-02b8732d]{justify-content:space-evenly}.flex.col[data-v-02b8732d]{flex-direction:column}.flex.wrap[data-v-02b8732d]{flex-wrap:wrap}.flex.center[data-v-02b8732d]{justify-content:center}.flex.center[data-v-02b8732d],.flex.v-center[data-v-02b8732d]{align-items:center}.flex.j-center[data-v-02b8732d]{justify-content:center}.flex.start[data-v-02b8732d]{justify-content:flex-start;align-items:flex-start}.flex.start.center[data-v-02b8732d]{align-items:center}.flex.baseline[data-v-02b8732d]{align-items:baseline}.flex.end[data-v-02b8732d]{justify-content:flex-end}.flex.end.center[data-v-02b8732d]{align-items:center}a[data-v-02b8732d]{text-decoration:none}@media(max-width:768px){.onlyDesktop[data-v-02b8732d]{display:none}}.onlyMobile[data-v-02b8732d]{display:none}@media(max-width:768px){.onlyMobile[data-v-02b8732d]{display:inline;display:initial}}.process-payment[data-v-02b8732d]{width:100%}#stripe-card[data-v-02b8732d]{margin:20px 0;width:100%;max-width:500px;background-color:#fff;box-shadow:1px 1px 15px rgba(0,0,0,.16);padding:3%}.checkout-btn.disabled[data-v-02b8732d]{background-color:grey}',""]),e.exports=k},951:function(e,t,n){"use strict";n.r(t);var r=n(23),o=n(3),d=(n(25),n(278),n(80),n(28),n(47),n(42),n(26),n(13),n(62),n(46),n(63),n(665)),c=n(666);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m="We are facing some technical difficulties at the moment. Kindly, try again after sometime.",y="Could not process payment. Kindly try after sometime.",h={props:{demoMode:Boolean,type:String,currency:String,prefferedGateway:String,amount:Number,address:Object,payload:Object},data:function(){return{paymentIntent:{gatewayToken:"",dbId:""},enableCheckout:!1,processing:!1,stripe:{elements:null,sdk:null,shippingAddress:null,billingAddress:null},gateway:"",razorpayCheckout:null,paymentIntentCreated:!1,error:{status:!1,msg:""}}},mounted:function(){this.initializePayment()},methods:{proceedPayment:function(){if(this.demoMode)this.$emit("paymentProcessed");else if(!this.processing)switch(this.gateway){case"razorpay":this.razorpayCheckout.open();break;case"stripe":this.stripeCheckout()}},initializePayment:function(){var e;if(this.gateway=(null!==(e=this.prefferedGateway)&&void 0!==e?e:"INR"===this.currency)?"razorpay":"stripe","stripe"===this.gateway)this.createStipeCardElement(),this.createStripeShippingAndBillingAddresses();this.createPaymentIntent()},createPaymentIntent:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,d,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$post("/createPaymentIntent/v2",{type:e.type,amount:e.amount,currency:e.currency,gateway:e.gateway,billingAddress:e.billingAddress,shippingAdress:e.shippingAddress,payload:e.payload});case 2:if(!1!==(n=t.sent).resolved){t.next=5;break}return t.abrupt("return");case 5:r=n.response,o=r.gatewayToken,d=r.intentId,c=r.amount,e.paymentIntent.gatewayToken=o,e.paymentIntent.dbId=d,t.t0=e.gateway,t.next="razorpay"===t.t0?11:13;break;case 11:return e.setupRazorpayOrder(c),t.abrupt("break",13);case 13:case"end":return t.stop()}}),t)})))()},createStipeCardElement:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,element;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{hidePostalCode:!0},o=t.stripe,n.next=4,Object(d.a)(c.b);case 4:o.sdk=n.sent,o.elements=o.sdk.elements(),(element=o.elements.create("card",r)).mount("#stripe-card"),element.on("change",(function(e){t.error.status=!1,t.enableCheckout=!!e.complete}));case 9:case"end":return n.stop()}}),n)})))()},setupRazorpayOrder:function(e){var t=this.address,n=t.firstName,r=t.surName,o=t.email,d=t.mobileNumber,l={key:c.a,order_id:this.paymentIntent.gatewayToken,currency:"INR",name:"Bounipun Ecom",description:"Transaction",image:"https://bounipun.in/icons/light/logo.png",prefill:{name:"".concat(n," ").concat(r),email:o,contact:d},theme:{color:"#3399cc"},amount:e,handler:this.onRazorpayPaymentSuccess};this.razorpayCheckout=new Razorpay(l),this.enableCheckout=!0},onRazorpayPaymentSuccess:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.razorpay_order_id,o=e.razorpay_payment_id,d=e.razorpay_signature,n.next=3,t.$post("/razorpayPaymentSuccess/v2",{gatewayToken:r,transactionId:o,signature:d,type:t.type});case 3:t.$emit("paymentProcessed");case 4:case"end":return n.stop()}}),n)})))()},createStripeShippingAndBillingAddresses:function(){var e=this.address,t=e.firstName,n=e.surName,r=e.email,o=e.city,d=e.addressLine1,c=e.addressLine2,l=e.postalCode,m=e.countryIsoCode;this.stripe.shippingAddress={address:{line1:"".concat(d," | ").concat(c),country:m},name:"".concat(t," ").concat(n)},this.stripe.billingAddress={name:this.stripe.shippingAddress.name,email:r,address:f({city:o,postal_code:l},this.stripe.shippingAddress.address)}},createStripePaymentMethod:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),n=e.stripe.elements.getElement("card"),t.next=4,e.stripe.sdk.createPaymentMethod({type:"card",card:n,billing_details:e.stripe.billingAddress});case 4:if(r=t.sent,o=r.paymentMethod,d=r.error,e.setLoading(!1),!d){t.next=10;break}return t.abrupt("return",e.setError(!0,y));case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()},confirmStripeCardPayment:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setLoading(!0),n.next=3,t.stripe.sdk.confirmCardPayment(t.paymentIntent.gatewayToken,{payment_method:e,shipping:t.stripe.shippingAddress});case 3:return r=n.sent,o=r.error,t.setLoading(!1),n.abrupt("return",!o||t.setError(!0,m));case 7:case"end":return n.stop()}}),n)})))()},stripeCheckout:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.processing){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.createStripePaymentMethod();case 4:if(n=t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.confirmStripeCardPayment(n.id);case 9:if(t.sent){t.next=12;break}return t.abrupt("return");case 12:e.$emit("paymentProcessed");case 13:case"end":return t.stop()}}),t)})))()},setLoading:function(e){this.$store.commit("customer/setLoading",e),this.processing=e},setError:function(e,t){return this.error.status=e,this.error.msg=t,null}}},v=h,w=(n(838),n(8)),component=Object(w.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"process-payment flex center col"},["stripe"===e.gateway?n("div",{attrs:{id:"stripe-card"}}):e._e(),e._v(" "),n("button",{staticClass:"checkout-btn action",class:{disabled:!e.enableCheckout},on:{click:e.proceedPayment}},[e._v("\n    Make Payment\n  ")])])}),[],!1,null,"02b8732d",null);t.default=component.exports}}]);