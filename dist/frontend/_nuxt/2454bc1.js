(window.webpackJsonp=window.webpackJsonp||[]).push([[28,38,51,61,64,66,81],{496:function(e,t,n){"use strict";var o=n(15),l=n(2),r=n(5),c=n(92),d=n(25),m=n(20),f=n(167),v=n(55),h=n(129),_=n(261),x=n(7),y=n(74).f,I=n(48).f,C=n(21).f,k=n(263),S=n(262).trim,$="Number",T=l.Number,w=T.prototype,B=l.TypeError,U=r("".slice),F=r("".charCodeAt),A=function(e){var t=_(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,n,o,l,r,c,d,code,m=_(e,"number");if(h(m))throw B("Cannot convert a Symbol value to a number");if("string"==typeof m&&m.length>2)if(m=S(m),43===(t=F(m,0))||45===t){if(88===(n=F(m,2))||120===n)return NaN}else if(48===t){switch(F(m,1)){case 66:case 98:o=2,l=49;break;case 79:case 111:o=8,l=55;break;default:return+m}for(c=(r=U(m,2)).length,d=0;d<c;d++)if((code=F(r,d))<48||code>l)return NaN;return parseInt(r,o)}return+m};if(c($,!T(" 0o1")||!T("0b1")||T("+0x1"))){for(var N,P=function(e){var t=arguments.length<1?0:T(A(e)),n=this;return v(w,n)&&x((function(){k(n)}))?f(Object(t),n,P):t},O=o?y(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;O.length>j;j++)m(T,N=O[j])&&!m(P,N)&&C(P,N,I(T,N));P.prototype=w,w.constructor=P,d(l,$,P)}},497:function(e,t,n){},498:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},503:function(e,t,n){"use strict";n(497)},504:function(e,t,n){"use strict";n.r(t);n(496),n(75),n(93);var o={props:{label:String,value:String|Number,placeholder:{type:String,default:""},type:{type:String,default:"text"},internal:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},uppercase:{type:Boolean,default:!1},options:{type:Object}},methods:{isBounipunUrl:function(s){return null!=s&&""!==s&&s.includes("bounipun.in")}}},l=(n(503),n(9)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-box"},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[e.internal?n("div",{staticClass:"internal"}):e._e(),e._v(" "),n("label",{staticClass:"label",attrs:{title:e.options&&e.options.title?e.options.title:""}},[e._v(" "+e._s(e.label)+" ")])]),e._v(" "),n("input",{staticClass:"input-box",class:{uppercase:e.uppercase},attrs:{type:e.type,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),e.options&&e.options.indicator?n("span",{staticClass:"indicator",class:e.isBounipunUrl(e.value)?"bounipunUrl":"externalLink"},[e._v("\n    "+e._s(e.isBounipunUrl(e.value)?"âœ… Bounipun URL":"External Link")+"\n  ")]):e._e()])}),[],!1,null,"285d608e",null);t.default=component.exports},505:function(e,t,n){"use strict";n(498)},507:function(e,t,n){"use strict";n(500)},508:function(e,t,n){"use strict";n(501)},509:function(e,t,n){"use strict";n.r(t);var o={props:{label:String,value:Boolean,activeText:{type:String,default:"Active"},inactiveText:{type:String,default:"Inactive"},disabled:{type:Boolean,default:!1},width:{type:String,default:"120px"},labelCSS:{type:String,default:""}},data:function(){return{toggleOn:!1}},methods:{toggleState:function(){this.toggleOn=!this.value,this.$emit("input",this.toggleOn)}}},l=(n(508),n(9)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-box"},[n("label",{staticClass:"label",style:e.labelCSS},[e._v(" "+e._s(e.label)+" :")]),e._v(" "),e.disabled?e._e():n("div",{staticClass:"switch-box center",class:{on:e.value},style:{width:e.width,pointerEvents:e.disabled?"none":""},on:{click:e.toggleState}},[n("div",{staticClass:"toggle center",class:{on:e.value}},[n("div",{staticClass:"circle"})]),e._v(" "),n("span",{class:{on:e.value}},[e._v("\n      "+e._s(e.value?e.activeText:e.inactiveText)+"\n    ")])]),e._v(" "),e.disabled?n("span",{class:{on:e.value}},[e._v("\n    "+e._s(e.value?e.activeText:e.inactiveText)+"\n  ")]):e._e()])}),[],!1,null,"084fb2d6",null);t.default=component.exports},510:function(e,t,n){"use strict";n.r(t);var o={props:{label:String,value:String,internal:{type:Boolean,default:!1},nonAdmin:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}},l=(n(505),n(9)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-box",class:{nonAdmin:e.nonAdmin}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[e.internal?n("div",{staticClass:"internal"}):e._e(),e._v(" "),n("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")])]),e._v(" "),n("textarea",{staticClass:"textarea-box",attrs:{disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])}),[],!1,null,"65b6a339",null);t.default=component.exports},512:function(e,t,n){"use strict";n.r(t);n(507);var o=n(9),component=Object(o.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cancel-update center"},[n("img",{attrs:{src:"/icons/dark/minus.png"},on:{click:function(t){return e.$emit("close")}}})])}),[],!1,null,"756c3226",null);t.default=component.exports},516:function(e,t,n){},520:function(e,t,n){},521:function(e,t,n){"use strict";n.r(t);var o={props:{value:String,label:String,options:Array,disabled:{type:Boolean,default:!1},internal:{type:Boolean,default:!1},slim:{type:Boolean,default:!1}}},l=(n(523),n(9)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-box"},[n("div",{staticStyle:{display:"flex","align-items":"center",width:"50%"}},[e.internal?n("div",{staticClass:"internal"}):e._e(),e._v(" "),void 0!==e.label?n("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]):e._e()]),e._v(" "),n("select",{staticClass:"select shadow",class:{slim:e.slim},attrs:{disabled:e.disabled},domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},e._l(e.options,(function(option,t){return n("option",{key:t,domProps:{value:option.value}},[e._v(" "+e._s(option.name)+" ")])})),0)])}),[],!1,null,"1ac5f7f6",null);t.default=component.exports},523:function(e,t,n){"use strict";n(516)},532:function(e,t,n){"use strict";n(520)},535:function(e,t,n){"use strict";n.r(t);var o=n(3),l=(n(22),n(13),n(33),n(35),n(36),n(547),n(266),n(28),n(41),n(169),{props:{label:{type:String,default:"Add Files"},multipleUpload:{type:Boolean,default:!0},uploadType:{type:String,default:"non-product"},uploaded:Array},data:function(){return{cancelToken:this.$axios.CancelToken,images:[],uploadImageAPI:"/uploadImage"}},methods:{clearFileSelection:function(){this.images=[]},assignImages:function(e){var t=this;if(console.log("ASSIGN IMAGES WAS CALLED"),!(!e.length>0)){this.images=[];e.forEach((function(image){var e={file:null,previewURL:"https://bounipun-ecom.s3.ap-south-1.amazonaws.com/original/"+image.path,cancelToken:null,uploadPercentage:100,uploaded:!0,mainImage:image.mainImage,_id:image._id,path:image.path};t.images.push(e)}))}},addFiles:function(){this.$refs.selector.click()},handleFileSelection:function(){var e=this,t=this.$refs.selector.files;this.multipleUpload||(this.images=[]),t.forEach((function(t){var n=e.createImageObject(t);e.images.push(n),e.uploadFile(n),e.resetFileSelection()}))},createImageObject:function(e){return{file:e,previewURL:URL.createObjectURL(e),cancelToken:this.cancelToken.source(),uploadPercentage:0,uploaded:!1,mainImage:!1,_id:"",path:""}},uploadFile:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,r,c,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(o=new FormData).append("productImage",e.file),o.append("uploadType",t.uploadType),l=t.setUploadConfig(e),r=t.$axios.$post(t.uploadImageAPI,o,l),n.next=7,t.$task(r);case 7:if(c=n.sent,d=c.response,!(m=c.error)){n.next=13;break}return t.$axios.isCancel(m)&&console.log("Upload request cancelled"),n.abrupt("return");case 13:t.updateImageObject(e,d);case 14:case"end":return n.stop()}}),n)})))()},setUploadConfig:function(e){return{cancelToken:e.cancelToken.token,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(progress){e.uploadPercentage=parseInt(Math.round(progress.loaded/progress.total*100))}}},updateImageObject:function(e,t){e.uploaded=100===e.uploadPercentage,e.path=t.name,e._id=t._id,this.$emit("updated",this.images)},setMainImage:function(e,t){var n=this;if(t)for(var i=0;i<this.images.length;i++)i!==e&&(this.images[i].mainImage=!1);setTimeout((function(){n.images[e].mainImage=!0,n.$emit("updated",n.images)}),100)},removeFile:function(e){this.images[e].uploaded||this.images[e].cancelToken.cancel(),this.images.splice(e,1),this.$emit("updated",this.images)},resetFileSelection:function(){this.$refs.selector.type="text",this.$refs.selector.type="file"}}}),r=(n(532),n(9)),component=Object(r.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container"},[n("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),n("input",{ref:"selector",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:e.multipleUpload},on:{change:function(t){return e.handleFileSelection()}}}),e._v(" "),n("button",{staticClass:"file-selector",on:{click:function(t){return e.addFiles()}}},[e._v("\n    Select File(s)\n  ")]),e._v(" "),n("div",{staticClass:"previews"},[e._l(e.images,(function(image,t){return n("div",{key:t,staticClass:"preview center",class:{uploading:!image.uploaded},style:{backgroundImage:"url("+image.previewURL+")"}},[n("div",{staticClass:"actions center-col"},[n("img",{staticClass:"remove-file",attrs:{src:"/icons/light/remove-icon.png"},on:{click:function(n){return e.removeFile(t)}}}),e._v(" "),e.multipleUpload?n("input",{directives:[{name:"model",rawName:"v-model",value:image.mainImage,expression:"image.mainImage"}],staticClass:"set-main-image",attrs:{type:"checkbox"},domProps:{checked:image.mainImage,checked:Array.isArray(image.mainImage)?e._i(image.mainImage,null)>-1:image.mainImage},on:{change:[function(t){var n=image.mainImage,o=t.target,l=!!o.checked;if(Array.isArray(n)){var r=e._i(n,null);o.checked?r<0&&e.$set(image,"mainImage",n.concat([null])):r>-1&&e.$set(image,"mainImage",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(image,"mainImage",l)},function(n){return e.setMainImage(t,n.target.checked)}]}}):e._e()]),e._v(" "),image.uploaded?e._e():n("div",{staticClass:"progress center"},[n("vue-ellipse-progress",{attrs:{color:"#41bf89",size:70,thickness:7,legend:!0,fontSize:"1rem",progress:image.uploadPercentage}},[n("img",{staticClass:"upload-icon",attrs:{slot:"legend-caption",wdith:"60px",src:"/icons/light/upload-cloud.svg"},slot:"legend-caption"})])],1),e._v(" "),image.mainImage?n("span",{staticClass:"main-image"},[e._v(" Main Image ")]):e._e(),e._v(" "),n("span",{staticClass:"numbering"},[e._v(" "+e._s(t+1)+" ")])])})),e._v(" "),0===e.images.length?n("div",{staticClass:"not-uploaded",staticStyle:{"margin-left":"10px"}},[n("img",{attrs:{src:"/icons/light/upload-cloud.svg"}}),e._v(" "),n("span",[e._v(" No Image(s) uploaded yet ")])]):e._e()],2)])}),[],!1,null,"5d760990",null);t.default=component.exports},746:function(e,t,n){"use strict";n.r(t);var o=n(3),l=(n(28),n(32),n(56),n(22),{props:{model:String,variantCategories:Array},data:function(){return{editMode:!1,doc:{_id:"",name:"",category:"",code:"",description:"",info1:"",info2:"",hsnCode:"",gstPercentage:"",image:"",hex:"",status:!1},loading:!1,updated:!1}},methods:{colorPicked:function(e){this.doc.hex=e},imageListUpdated:function(e){this.doc.image=e.length>0?e[0].path:""},updateDocument:function(e,details,t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.doc.category){e.next=2;break}return e.abrupt("return");case 2:return n.loading=!0,e.next=5,n.$updateDocument(n.model,n.doc,n.editMode);case 5:if(t=e.sent,n.loading=!1,t.updated){e.next=9;break}return e.abrupt("return");case 9:n.$emit("updated"),n.populateForm(t.doc),n.$flash(n);case 12:case"end":return e.stop()}}),e)})))()},deleteDocument:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$deleteDocument(e.model,e.doc._id);case 3:if(n=t.sent,e.loading=!1,n.deleted){t.next=7;break}return t.abrupt("return");case 7:e.$emit("updated"),e.resetForm(),e.$flash(e);case 10:case"end":return t.stop()}}),t)})))()},populateForm:function(details){var e=details._id,t=details.name,n=details.category,code=details.code,o=details.description,l=details.info1,r=details.info2,c=details.hsnCode,d=details.gstPercentage,image=details.image,m=details.hex,f=details.status;this.doc={_id:e,name:t,category:n,code:code,description:o,info1:l,info2:r,hsnCode:c,gstPercentage:d,image:image,hex:m,status:f},this.editMode=!0},closeForm:function(){this.resetForm(),this.$emit("close")},resetForm:function(){this.$refs.imageUploader.clearFileSelection(),this.populateForm({_id:"",name:"",category:"",code:"",description:"",info1:"",info2:"",hsnCode:"",gstPercentage:"",image:"",hex:"",status:!1}),this.editMode=!1}}}),r=n(9),component=Object(r.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contents"},[n("CancelUpdate",{on:{close:e.closeForm}}),e._v(" "),n("h2",{staticClass:"heading"},[e._v(" "+e._s(e.editMode?"Update":"Add New")+" Variant ")]),e._v(" "),e.editMode?n("InputBox",{attrs:{label:"Variant ID",disabled:"",internal:!0},model:{value:e.doc._id,callback:function(t){e.$set(e.doc,"_id",t)},expression:"doc._id"}}):e._e(),e._v(" "),n("InputBox",{attrs:{label:"Variant Name"},model:{value:e.doc.name,callback:function(t){e.$set(e.doc,"name",t)},expression:"doc.name"}}),e._v(" "),n("SelectBox",{attrs:{options:e.variantCategories,label:"Type of Variant",internal:!0},model:{value:e.doc.category,callback:function(t){e.$set(e.doc,"category",t)},expression:"doc.category"}}),e._v(" "),n("InputBox",{attrs:{label:"Bounipun Code",internal:!0},model:{value:e.doc.code,callback:function(t){e.$set(e.doc,"code",t)},expression:"doc.code"}}),e._v(" "),n("TextBox",{attrs:{label:"Description"},model:{value:e.doc.description,callback:function(t){e.$set(e.doc,"description",t)},expression:"doc.description"}}),e._v(" "),n("InputBox",{attrs:{label:"HSN Code"},model:{value:e.doc.hsnCode,callback:function(t){e.$set(e.doc,"hsnCode",t)},expression:"doc.hsnCode"}}),e._v(" "),n("InputBox",{attrs:{label:"GST Percentage"},model:{value:e.doc.gstPercentage,callback:function(t){e.$set(e.doc,"gstPercentage",t)},expression:"doc.gstPercentage"}}),e._v(" "),n("InputBox",{attrs:{label:"Info #1"},model:{value:e.doc.info1,callback:function(t){e.$set(e.doc,"info1",t)},expression:"doc.info1"}}),e._v(" "),n("InputBox",{attrs:{label:"Info #2"},model:{value:e.doc.info2,callback:function(t){e.$set(e.doc,"info2",t)},expression:"doc.info2"}}),e._v(" "),n("UploadImage",{ref:"imageUploader",attrs:{multipleUpload:!1,label:"Set Variant Image"},on:{updated:e.imageListUpdated}}),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"center",staticStyle:{position:"relative"}},[n("verte",{staticStyle:{position:"absolute",right:"5%",top:"50%","z-index":"5"},attrs:{model:"hex",menuPosition:"right",value:e.doc.hex},on:{input:e.colorPicked}}),e._v(" "),n("InputBox",{attrs:{label:"HEX Color"},model:{value:e.doc.hex,callback:function(t){e.$set(e.doc,"hex",t)},expression:"doc.hex"}})],1),e._v(" "),n("Toggle",{attrs:{label:"Status"},model:{value:e.doc.status,callback:function(t){e.$set(e.doc,"status",t)},expression:"doc.status"}}),e._v(" "),n("div",{staticClass:"center-space"},[e.loading?n("img",{staticClass:"loading",attrs:{src:"/loading.gif"}}):e._e(),e._v(" "),e.updated?n("img",{staticClass:"action-complete",attrs:{src:"/complete.gif"}}):e._e(),e._v(" "),n("button",{staticClass:"action",attrs:{disabled:e.loading},on:{click:e.updateDocument}},[e._v(" "+e._s(e.editMode?"Edit":"Add")+" Variant ")]),e._v(" "),e.editMode?n("button",{staticClass:"action delete",attrs:{disabled:e.loading},on:{click:e.deleteDocument}},[e._v(" Delete ")]):e._e()])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CancelUpdate:n(512).default,InputBox:n(504).default,SelectBox:n(521).default,TextBox:n(510).default,UploadImage:n(535).default,Toggle:n(509).default})}}]);