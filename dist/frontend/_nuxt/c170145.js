(window.webpackJsonp=window.webpackJsonp||[]).push([[3,62],{529:function(t,e,n){"use strict";e.a={computed:{currency:function(){return this.$store.state.customerV2.currency},currencyIsINR:function(){return"INR"===this.currency}},methods:{formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=parseFloat(t),this.$store.getters["customerV2/formatCurrency"](t,e)}}}},536:function(t,e,n){},540:function(t,e,n){"use strict";var r=n(4),o=n(5),c=n(16),l=n(37),d=n(49),h=n(14),f=n(7),v=n(292),m=n(172),C=n(668),y=n(669),w=n(96),I=n(670),x=[],_=o(x.sort),P=o(x.push),k=f((function(){x.sort(void 0)})),S=f((function(){x.sort(null)})),A=m("sort"),W=!f((function(){if(w)return w<70;if(!(C&&C>3)){if(y)return!0;if(I)return I<603;var code,t,e,n,r="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)x.push({k:t+n,v:e})}for(x.sort((function(a,b){return b.v-a.v})),n=0;n<x.length;n++)t=x[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));r({target:"Array",proto:!0,forced:k||!S||!A||!W},{sort:function(t){void 0!==t&&c(t);var e=l(this);if(W)return void 0===t?_(e):_(e,t);var n,r,o=[],f=d(e);for(r=0;r<f;r++)r in e&&P(o,e[r]);for(v(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:h(e)>h(n)?1:-1}}(t)),n=o.length,r=0;r<n;)e[r]=o[r++];for(;r<f;)delete e[r++];return e}})},541:function(t,e,n){"use strict";n.r(e);n(496),n(47),n(75),n(93),n(41),n(34),n(77),n(565);var r=n(566),o=n.n(r),c=n(748),l={components:{"inner-image-zoom":o.a},props:{slideshowOptions:{type:Object,default:function(){return{thumbnails:!1}}},autoplay:{type:Boolean,default:!1},images:{type:Array,default:function(){return["/demo_images/slider/desk1.png"]}},size:{type:String,default:"contain"},customText:{type:String,default:""},extraClass:{type:String,default:""},dots:{type:Boolean,default:!0},mSlideWidth:{type:Number,default:100},dSlideWidth:{type:Number,default:100},mSlideHeight:{type:String,default:"100vw"},dSlideHeight:{type:String,default:"100vw"},main:{type:Boolean,default:!1},productPage:{type:Boolean,default:!1},links:{type:Array,default:function(){return[]}}},data:function(){return{slideMargin:0,activeIndex:0,thumbnailsMargin:0,autoplayInterval:{},interacted:!1,activeHover:!1,lensPosition:{x:0,y:0},previousZoomedInImage:""}},computed:{singleImage:function(){return 1===this.images.length},slideHeight:function(){return this.windowWidth>768?this.dSlideHeight:this.mSlideHeight},slideWidth:function(){return this.windowWidth>768?this.dSlideWidth:this.mSlideWidth},onDemandImages:function(){return this.interacted?this.images:this.images.length>2?this.images.map((function(image,t){return t<1?image:"/loading.gif"})):this.images}},destroyed:function(){this.clearAutoplayRoutine()},mounted:function(){this.autoplay&&this.setAutoplayRoutine()},watch:{activeIndex:{handler:function(t){this.$emit("slideChanged",t)},immediate:!0},images:function(){}},methods:{setActiveImage:function(t){this.interacted=!0,this.activeIndex=t,this.slideMargin=t*this.slideWidth*-1,c.a.to(this.$refs.thumbnails,.3,{scrollLeft:40*t})},getBackgroundImage:function(image,t){return{backgroundImage:"url('".concat(image,"')"),backgroundSize:this.size,width:this.slideWidth+"vw",height:this.slideHeight,backgroundPosition:"top center"}},isBounipunUrl:function(s){return null!=s&&""!==s&&s.includes("bounipun.in")},navigateIfRequired:function(t){if(void 0!==this.links[t]&&""!==this.links[t]){var link=this.links[t];window.open(link,this.isBounipunUrl(link)?"_self":"_blank")}},getThumbBackground:function(image){return{backgroundImage:"url('".concat(image,"')"),backgroundSize:"contain"}},isActive:function(t){return this.activeIndex===t},handleThumbnail:function(t){console.log(this.$refs.thumbnails.scrollLeft)},onSwipe:function(data){this.interacted=!0,void 0===data.autoMode&&this.clearAutoplayRoutine();var t=this.images.length-1;switch(data.direction){case 2:if(console.log("swiped left"),this.slideMargin===t*(-1*this.slideWidth))return this.slideMargin=0,void(this.activeIndex=0);this.slideMargin-=this.slideWidth,this.activeIndex+=1;break;case 4:if(console.log("swiped right"),0===this.slideMargin)return;this.slideMargin+=this.slideWidth,this.activeIndex-=1}c.a.to(this.$refs.thumbnails,.3,{scrollLeft:40*this.activeIndex})},setAutoplayRoutine:function(){var t=this;this.autoplayInterval=setInterval((function(){return t.onSwipe({direction:2,autoMode:!0})}),3e3)},clearAutoplayRoutine:function(){clearInterval(this.autoplayInterval)},trackMouse:function(t){if(this.productPage&&!(this.windowWidth<768)){t.preventDefault();var e,n,r=0,o=0;this.activeHover=!0;var c=this.$refs.lens,l=this.$refs.slidesContainer,d=this.$refs.zoomedIn,h=document.documentElement.clientWidth;e=h;var f=this.dSlideWidth/100*h,v=l.offsetHeight,m=f/v,C=d.offsetWidth/c.offsetWidth,y=d.offsetHeight/c.offsetHeight,w=this.images[this.activeIndex];if(this.previousZoomedInImage!==w){var I=w.replace("productPages","original");d.style.backgroundImage="url(".concat(I,")"),this.previousZoomedInImage=w}var x=v*y;d.style.backgroundSize=x+"px "+x+"px ",r=(n=this.getCursorPosition(t,l)).x-c.offsetWidth/2,o=(o=n.y-c.offsetHeight/2)<0?0:o,(r=r<0?0:r)>f-c.offsetWidth&&(r=f-c.offsetWidth),o>l.offsetHeight-c.offsetHeight&&(o=l.offsetHeight-c.offsetHeight),this.$refs.lens.style.left=r+"px",this.$refs.lens.style.top=o+"px";var _=e*((1-m)/2);d.style.backgroundPosition="-"+(r*C+(_+10))+"px -"+o*y+"px"}},getCursorPosition:function(t,e){var n=0,r=0,a=e.getBoundingClientRect();return n=t.pageX-a.left,r=t.pageY-a.top,{x:n-=window.pageXOffset,y:r-=window.pageYOffset}}}},d=(n(543),n(9)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slideshow-container",style:{width:t.slideWidth+"vw"}},[n("div",{staticClass:"till-dots"},[n("div",{staticClass:"slideshow"},[t.productPage?n("div",{directives:[{name:"show",rawName:"v-show",value:t.activeHover,expression:"activeHover"}],ref:"lens",staticClass:"lens"}):t._e(),t._v(" "),n("div",{ref:"slidesContainer",on:{mousemove:t.trackMouse,mouseleave:function(e){t.activeHover=!1}}},[n("div",{directives:[{name:"hammer",rawName:"v-hammer:swipe",value:t.onSwipe,expression:"onSwipe",arg:"swipe"}],staticClass:"slides-container",style:"margin-left: "+t.slideMargin+"vw"},t._l(t.onDemandImages,(function(image,e){return n("div",{key:e,staticClass:"product-image",class:{productPage:t.productPage,clickable:t.links.length>0},style:t.getBackgroundImage(image),on:{click:function(n){return t.navigateIfRequired(e)}}})})),0)])]),t._v(" "),t.dots&&!t.singleImage?n("div",{staticClass:"dots",class:{main:t.main},style:{width:t.slideWidth}},t._l(t.images,(function(image,e){return n("div",{key:e,class:[{active:t.isActive(e)},"dot"]})})),0):t._e()]),t._v(" "),t.productPage?n("div",{directives:[{name:"show",rawName:"v-show",value:t.activeHover,expression:"activeHover"}],ref:"zoomedIn",staticClass:"zoomed-in-image shadow"}):t._e(),t._v(" "),""!==t.customText?n("div",{staticClass:"center"},[n("span",{staticClass:"custom-text"},[t._v(" "+t._s(t.customText)+" ")])]):t._e(),t._v(" "),t.slideshowOptions.thumbnails?n("div",{ref:"thumbnails",staticClass:"scrollable-list",attrs:{id:"thumbnails-container"}},[n("div",{staticClass:"list"},[n("div",{staticClass:"thumbnails"},t._l(t.images,(function(image,e){return n("div",{key:e,class:[{active:t.isActive(e)},"thumbnail"],style:t.getThumbBackground(image),on:{click:function(n){return t.setActiveImage(e)}}})})),0)])]):t._e()])}),[],!1,null,"9fb784c6",null);e.default=component.exports},542:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(95),c=(n(22),n(496),n(265),n(13),n(540),n(47),n(28),n(24),n(64),n(76),{mixins:[n(529).a],props:{gridView:{type:Boolean,default:!1},searchView:{type:Boolean,default:!1},details:{type:Object,default:function(){return{name:"Khatamband Search",collection:"Bounipun Karakul",price:"INR 20000"}}},variants:{type:Object,default:function(){return{shawl:!0}}},product:{type:Object,default:{notProvided:!0}},image:{type:String,default:"product1.png"},activeColor:{type:Number,default:-1}},computed:{mobileDimensions:function(){return this.gridView?{width:48,height:"315px"}:{width:100,height:"67vh"}},imagePath:function(){if(this.product.notProvided||0===this.product.colors.length)return"/default-image.png";var t="",e=this.product.colors.find((function(t){return!0===t.mainColor}));return t=void 0!==e?e.images[0].path:this.product.colors[0].images,this.$getImage(t,"productPages")},variantsAvailable:function(){if(this.rtsAndUnderBounipun)return[this.product.rtsDirectVariant];if(this.product.variantData){var t=JSON.parse(JSON.stringify(this.product.variantData));return t.sort((function(a,b){return a.order-b.order})),t.map((function(t){return t.name}))}return this.product.variants.map((function(t){return t._id.name}))},baseColorsBoxes:function(){var t=this;if(this.product.colors){var e=this.product.colors.map((function(t){return[t.baseColor,t.additionalColor1,t.additionalColor2]})),n=e[this.activeColorIndex],r=e.filter((function(e,n){return n!==t.activeColorIndex}));return[n].concat(Object(o.a)(r))}},baseColorImages:function(){var t=this;if(!this.product.colors)return[{path:"",actualIndex:-1}];var e=this.product.colors.map((function(e,n){var r=e.images;return 0===r.length||void 0===r?(console.log("NO IMAGES PROVIDED"),{path:"",actualIndex:n}):{path:t.$getImage(r[r.length-1].path,"chips"),actualIndex:n}}));return e},baseColorImagesPreview:function(){var t=[],e=0,n=this.baseColorImages.length;if(n>=3){for(var i=0;i<3;i++)t.push(this.baseColorImages[i]);e=n-3}else t=this.baseColorImages,e=0;return{previews:t,additional:e}},collectionName:function(){return"string"==typeof this.product.bounipun_collection?this.product.bounipun_collection:null===this.product.bounipun_collection?"N/A":this.product.bounipun_collection.name},directPrice:function(){return this.currencyIsINR?this.product.directPrice:this.product.directPricing[this.currency]},lowestVariantPrice:function(){return this.currencyIsINR?this.product.priceRange.startsAt:this.product.pricingRange[this.currency].startsAt},highestVariantPirce:function(){return this.currencyIsINR?this.product.priceRange.endsAt:this.product.pricingRange[this.currency].endsAt},lowestAndHighestPriceisSame:function(){return this.lowestVariantPrice===this.highestVariantPirce},slideshowImages:function(){var t=this;if(this.product.notProvided||0===this.product.colors.length)return["/default-image.png"];if(-1!==this.activeColorIndex){var e=this.product.colors[this.activeColorIndex].images;return 0===e.length?["/default-image.png"]:e.map((function(image){return t.$getImage(image.path,"productPages")}))}var n=this.product.colors.find((function(t){return!0===t.mainColor}));return(void 0!==n?n.images:this.product.colors[0].images).map((function(image){return t.$getImage(image.path,"productPages")}))},readyToShip:function(){return"ready-to-ship"===this.product.availabilityType},thirdPartyProduct:function(){return"third-party"===this.product.type},rtsAndUnderBounipun:function(){return this.readyToShip&&!this.thirdPartyProduct},activeColorCode:function(){var t=-1===this.activeColorIndex?0:this.activeColorIndex;return this.product.colors[t].code},inWishlist:function(){var t=this,e=this.$store.state.customer;if(!1===e.authorized)return!1;var n=e.user.wishlist;return void 0!==n&&-1!==n.findIndex((function(e){return e.product===t.product._id}))}},mounted:function(){this.activeColorIndex=this.activeColor},watch:{activeColor:function(t){this.activeColorIndex=t}},data:function(){return{addedToWishlist:!1,activeColorIndex:-1}},methods:{askForPrice:function(t){var e="Hi there, I would like to get a price quote for: ".concat(location.host,"/").concat(this.product.slug,"?activeColor=").concat(this.activeColorIndex);e=encodeURI(e),window.open("https://wa.me/?text="+e,"_blank")},toggleWishlist:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.state.customer.authorized){e.next=3;break}return t.$router.push("/login"),e.abrupt("return");case 3:return n=t.inWishlist?"remove-from-wishlist":"add-to-wishlist",e.next=6,t.$post("/wishlistActions",{action:n,product:t.product._id,colorCode:t.activeColorCode});case 6:if(!1!==e.sent.resolved){e.next=9;break}return e.abrupt("return");case 9:t.$store.dispatch("customer/fetchProfile");case 10:case"end":return e.stop()}}),e)})))()},navigateToProductPage:function(){var t={};-1!==this.activeColorIndex&&(t.activeColor=this.activeColorIndex),this.$router.push({path:"/".concat(this.product.slug),query:t}),window.scroll({top:0,behavior:"smooth"})},getBaseColorPath:function(t){return void 0!==this.baseColorImages[t]?this.baseColorImages[t].path:""},setActiveBaseColor:function(t){var e=this.baseColorImages[t].actualIndex;console.log(e),this.activeColorIndex=e,this.$refs.slideshow.setActiveImage(0)},isActiveBaseColor:function(t){return this.baseColorImages[t].actualIndex===this.activeColorIndex}}}),l=(n(673),n(9)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-card",class:{escape:"Escape"===t.collectionName&&"Collections"===t.$route.name,singleView:!t.gridView},on:{click:t.navigateToProductPage}},[t.product.saleDetails?n("span",{staticClass:"discount"},[t._v("\n    -"+t._s(t.product.saleDetails.discountPercentage)+"%")]):t._e(),t._v(" "),n("img",{class:[{added:t.inWishlist},"wishlist"],attrs:{src:t.inWishlist?"/icons/dark/wishlist-filled.png":"/icons/dark/wishlist.png"},on:{click:function(e){return e.stopPropagation(),t.toggleWishlist.apply(null,arguments)}}}),t._v(" "),n("div",{staticClass:"main-image-container center"},[n("slideshow",{ref:"slideshow",attrs:{images:t.slideshowImages,extraClass:"search-slideshow",dots:!0,mSlideWidth:t.mobileDimensions.width,mSlideHeight:t.mobileDimensions.height,dSlideWidth:29,dSlideHeight:"400px",size:"cover"}})],1),t._v(" "),"Escape"!==t.collectionName||"collections"!==t.$route.name?n("div",{staticClass:"flex v-center evenly col color-previews",style:t.readyToShip?"align-items: center;justify-content: flex-end;":""},[n("div",{staticClass:"flex center"},[n("div",{staticClass:"base-color-boxes"},t._l(t.baseColorImagesPreview.previews,(function(e,r){return n("div",{key:r,staticClass:"color-image shadow",class:{active:t.isActiveBaseColor(r)},style:"background-image: url("+t.getBaseColorPath(r)+")",on:{click:function(e){return e.stopPropagation(),t.setActiveBaseColor(r)}}})})),0),t._v(" "),t.readyToShip?t._e():n("p",{staticClass:"additional-colors",staticStyle:{display:"block","margin-left":"3px"}},[n("span",[t._v("\n          "+t._s(t.baseColorImagesPreview.additional>0?"+ "+t.baseColorImagesPreview.additional:" ")+"\n        ")]),t._v(" "),n("br"),t._v(" "),t.baseColorImagesPreview.additional>0?n("span",[t._v(" color(s) ")]):t._e()])]),t._v(" "),t.readyToShip?n("span",{staticClass:"additional-colors rts"},[t._v("\n      "+t._s(t.readyToShip?"Ready To Ship":"")+"\n    ")]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"text-details"},[n("div",{staticClass:"product-name center-col"},[n("span",{staticClass:"name"},[t._v("\n        "+t._s("Escape"===t.collectionName&&void 0!==t.product.colors[t.activeColorIndex]?t.product.colors[t.activeColorIndex].name:t.product.name)+"\n      ")]),t._v(" "),n("span",{staticClass:"collection"},[t._v(" "+t._s(t.collectionName)+" ")]),t._v(" "),t.product.askForPrice?n("div",{staticClass:"ask-for-price flex center",staticStyle:{"background-color":"rgb(74 74 74)",padding:"0 7px"}},[n("span",{staticClass:"text",staticStyle:{"text-transform":"capitalize",color:"white"},on:{click:function(e){return e.stopPropagation(),t.askForPrice.apply(null,arguments)}}},[t._v("\n          Ask For Price\n        ")])]):n("div",{staticClass:"price-box"},[t.readyToShip||t.lowestAndHighestPriceisSame?t._e():n("span",{staticClass:"price"},[t._v("\n          "+t._s(t.formatCurrency(t.lowestVariantPrice))+"\n          -\n          "+t._s(t.formatCurrency(t.highestVariantPirce))+"\n        ")]),t._v(" "),!t.readyToShip&&t.lowestAndHighestPriceisSame?n("span",{staticClass:"price"},[t._v("\n          "+t._s(t.formatCurrency(t.highestVariantPirce))+"\n        ")]):t._e(),t._v(" "),t.readyToShip?n("span",{staticClass:"price"},[t._v("\n          "+t._s(t.formatCurrency(t.directPrice))+"\n        ")]):t._e()])])]),t._v(" "),n("div",[t.thirdPartyProduct?t._e():n("div",{staticClass:"variants-available center"},t._l(t.variantsAvailable,(function(e,r){return n("div",{key:r,staticClass:"variant"},[t._v("\n        "+t._s(e)+"\n      ")])})),0)])])}),[],!1,null,"732d19bf",null);e.default=component.exports;installComponents(component,{Slideshow:n(541).default})},543:function(t,e,n){"use strict";n(536)},606:function(t,e,n){},668:function(t,e,n){var r=n(79).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},669:function(t,e,n){var r=n(79);t.exports=/MSIE|Trident/.test(r)},670:function(t,e,n){var r=n(79).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},673:function(t,e,n){"use strict";n(606)}}]);