(window.webpackJsonp=window.webpackJsonp||[]).push([[7,45,56,65,69,74,77,78,80],{496:function(e,t,r){"use strict";var n=r(15),o=r(2),l=r(5),d=r(92),c=r(25),m=r(20),f=r(167),h=r(55),v=r(129),y=r(261),_=r(7),N=r(74).f,C=r(48).f,A=r(21).f,D=r(263),E=r(262).trim,I="Number",k=o.Number,w=k.prototype,O=o.TypeError,S=l("".slice),x=l("".charCodeAt),L=function(e){var t=y(e,"number");return"bigint"==typeof t?t:T(t)},T=function(e){var t,r,n,o,l,d,c,code,m=y(e,"number");if(v(m))throw O("Cannot convert a Symbol value to a number");if("string"==typeof m&&m.length>2)if(m=E(m),43===(t=x(m,0))||45===t){if(88===(r=x(m,2))||120===r)return NaN}else if(48===t){switch(x(m,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+m}for(d=(l=S(m,2)).length,c=0;c<d;c++)if((code=x(l,c))<48||code>o)return NaN;return parseInt(l,n)}return+m};if(d(I,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var P,$=function(e){var t=arguments.length<1?0:k(L(e)),r=this;return h(w,r)&&_((function(){D(r)}))?f(Object(t),r,$):t},M=n?N(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),B=0;M.length>B;B++)m(k,P=M[B])&&!m($,P)&&A($,P,C(k,P));$.prototype=w,w.constructor=$,c(o,I,$)}},518:function(e,t,r){},527:function(e,t,r){"use strict";r(518)},530:function(e,t,r){"use strict";r.r(t);var n={props:{msg:String,show:Boolean,error:{type:Boolean,default:!1}}},o=(r(527),r(9)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"response"},[e.show?r("div",{staticClass:"toast center"},[r("span",{staticClass:"msg",class:{error:e.error}},[e._v("\n            "+e._s(e.msg)+"\n        ")])]):e._e()])}),[],!1,null,"18efac32",null);t.default=component.exports},544:function(e,t,r){r(264),r(267),r(34),r(94),String.prototype.isEmpty=function(){return""===this.trim()},String.prototype.hasOnlyAlphabets=function(){return new RegExp("^[a-zA-Z ]+$").test(this)},String.prototype.hasOnlyNumbers=function(){return/^\d+$/.test(this)},String.prototype.isValidEmail=function(){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(this)},String.prototype.lengthIsLessThan=function(e){return this.length<=e}},557:function(e,t,r){},571:function(e,t,r){"use strict";r(557)},588:function(e,t,r){"use strict";r.r(t);r(496);var n={props:{label:String,value:String,type:{type:String,default:"text"},isMobileNumber:{type:Boolean,default:!1},countryCode:String,maxLength:{type:Number,default:100},disabled:{type:Boolean,default:!1},error:{type:Object,default:{status:Boolean,msg:String}}},computed:{addressIsIndian:function(){return"+91"===this.countryCode}},data:function(){return{indianStateList:["Andaman and Nicobar Islands","Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chandigarh","Chhattisgarh","Dadra and Nagar Haveli","Daman and Diu","Delhi","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Lakshadweep","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Orissa","Pondicherry","Punjab","Rajasthan","Sikkim","Tamil Nadu","Tripura","Uttaranchal","Uttar Pradesh","West Bengal"]}},methods:{}},o=(r(571),r(9)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.addressIsIndian||!e.addressIsIndian&&"State"!==e.label?r("div",{staticClass:"delivery-input"},[e.error.status?r("p",{staticClass:"error-msg"},[e._v(e._s(e.error.msg))]):e._e(),e._v(" "),r("div",{staticClass:"input-box"},[e.isMobileNumber?r("div",{staticClass:"country-code"},[e._v(e._s(e.countryCode))]):e._e(),e._v(" "),"select"!==e.type?r("input",{staticClass:"field",class:{error:e.error.status,isMobileNumber:e.isMobileNumber},attrs:{type:"text",autocomplete:"new-password",maxlength:e.maxLength,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}):e._e(),e._v(" "),"Address Type"===e.label?r("select",{staticClass:"selection field",domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},[r("option",{attrs:{value:"Home"}},[e._v(" Home ")]),e._v(" "),r("option",{attrs:{value:"Office"}},[e._v(" Office ")]),e._v(" "),r("option",{attrs:{value:"Other"}},[e._v(" Other ")])]):e._e(),e._v(" "),"State"===e.label&&"+91"===e.countryCode?r("select",{staticClass:"field",domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},e._l(e.indianStateList,(function(t,n){return r("option",{key:n,staticClass:"option",domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n          ")])})),0):e._e()]),e._v(" "),r("label",{staticClass:"label",class:{error:e.error.status}},[e._v(" "+e._s(e.label)+" ")])]):e._e()}),[],!1,null,"7d393e7a",null);t.default=component.exports},645:function(e,t,r){},711:function(e,t,r){"use strict";r(645)},747:function(e,t,r){"use strict";r.r(t);var n=r(3),o=(r(22),r(13),r(33),r(40),r(41),r(544),{props:{updating:{type:Boolean,default:!1},addressDetails:{type:Object}},data:function(){return{deliveryAddress:{firstName:"",surName:"",state:"",addressType:"",mobileNumber:"",addressLine1:"",addressLine2:"",email:"",city:"",postalCode:"",countryDialCode:this.$store.state.customer.user.countryDialCode},formData:this.createFormData(),updated:!1}},mounted:function(){this.updating&&this.fetchAddressDetails()},watch:{addressDetails:function(e,t){null===e?this.resetForm():this.fetchAddressDetails()}},methods:{createFormData:function(){var e={firstName:"First Name",surName:"Sur Name",mobileNumber:"Mobile Number",email:"Email",addressType:"Address Type",state:"State",addressLine1:"Address Line #1",addressLine2:"Address Line #2",city:"City",postalCode:"Postal Code"},t={};for(var r in e)t[r]={label:e[r],value:this.addressDetails[r],error:{status:!1,msg:""}},"addressType"===r&&(t[r].type="select",this.updating||(t[r].value="Home")),"state"===r&&(t[r].type="select",this.updating||(t[r].value="Andaman and Nicobar Islands"));return t},fetchAddressDetails:function(){this.deliveryAddress=this.addressDetails},updateAddress:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.validateForm()){t.next=2;break}return t.abrupt("return");case 2:return r={},Object.keys(e.formData).forEach((function(t){r[t]=e.formData[t].value})),r._id=e.addressDetails._id,r.countryDialCode=e.addressDetails.countryDialCode,r.countryIsoCode=e.addressDetails.countryIsoCode,t.next=9,e.$post("/addressBookActions",{action:e.updating?"update-address":"save-address",address:r});case 9:t.sent,e.$store.dispatch("customer/fetchProfile"),e.updating||e.$emit("goBack"),e.updated=!0,setTimeout((function(){return e.updated=!1}),3e3);case 14:case"end":return t.stop()}}),t)})))()},deleteAddress:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={_id:e.addressDetails._id},t.next=3,e.$post("/addressBookActions",{action:"delete-address",address:r});case 3:t.sent,e.$emit("goBack"),window.scroll({top:0,behavior:"smooth"}),e.$store.dispatch("customer/fetchProfile");case 7:case"end":return t.stop()}}),t)})))()},setError:function(e,t,r){var n=this.formData[e];t&&(n.error={status:!0,msg:r})},validateForm:function(){var e=this,t=["firstName","surName","mobileNumber","email","addressLine1","city","postalCode"];["firstName","surName"].forEach((function(t){var r=e.formData[t].value.hasOnlyAlphabets();e.setError(t,!r,"Only Alphabets are allowed!")}));var r=this.formData.mobileNumber,n=r.value.hasOnlyNumbers();this.setError("mobileNumber",!n,"Mobile number can only consist of digits");var o=r.value.length>3&&r.value.length<15;this.setError("mobileNumber",!o,"Please enter a valid mobile number");var l=this.formData.email.value.isValidEmail();this.setError("email",!l,"Please enter a valid email address");var d=this.formData.city.value.hasOnlyAlphabets();this.setError("city",!d,"Only Alphabets are allowed");var c=this.formData.postalCode.value.hasOnlyNumbers();this.setError("postalCode",!c,"Only Number are allowed"),t.forEach((function(t){var r=e.formData[t].value.isEmpty();e.setError(t,r,"This field cannot be left blank!")}));var m=t.every((function(t){return console.log(e.formData[t].error.status,t),!e.formData[t].error.status}));return console.log(m,"--validated"),m}}}),l=(r(711),r(9)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"address-details flex col center"},[r("div",{staticClass:"center indicator"},[r("div",{staticClass:"back-icon center",on:{click:function(t){return e.$emit("goBack")}}},[r("img",{attrs:{src:"/icons/light/back.png"}})]),e._v(" "),r("span",{staticClass:"activity"},[e._v("\n      "+e._s(e.updating?"Updating":"New")+" Address\n    ")])]),e._v(" "),e._l(e.formData,(function(t,n,o){return r("DeliveryInput",{key:o,attrs:{type:t.type,error:t.error,label:t.label,isMobileNumber:"mobileNumber"===n,maxLength:"addressLine1"===n||"addressLine2"===n?60:100,countryCode:e.addressDetails.countryDialCode,disabled:!1},on:{input:function(e){t.error.status=!1}},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"field.value"}})})),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"actions center"},[r("button",{staticClass:"action",on:{click:e.updateAddress}},[e._v("\n      "+e._s(e.updating?"Update":"Add")+" Address\n    ")]),e._v(" "),r("button",{staticClass:"action remove",on:{click:e.deleteAddress}},[e._v("\n      delete Address\n    ")])]),e._v(" "),r("br"),e._v(" "),r("Toast",{attrs:{show:e.updated,msg:"Address Updated"}})],2)}),[],!1,null,"34c1a004",null);t.default=component.exports;installComponents(component,{DeliveryInput:r(588).default,Toast:r(530).default})}}]);