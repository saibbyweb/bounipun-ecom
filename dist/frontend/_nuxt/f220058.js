(window.webpackJsonp=window.webpackJsonp||[]).push([[17,38,51,61,64,66,81],{496:function(e,t,n){"use strict";var l=n(15),o=n(2),c=n(5),r=n(92),d=n(25),m=n(20),f=n(167),v=n(55),h=n(129),_=n(261),S=n(7),x=n(74).f,I=n(48).f,y=n(21).f,C=n(263),k=n(262).trim,w="Number",$=o.Number,A=$.prototype,U=o.TypeError,T=c("".slice),N=c("".charCodeAt),P=function(e){var t=_(e,"number");return"bigint"==typeof t?t:F(t)},F=function(e){var t,n,l,o,c,r,d,code,m=_(e,"number");if(h(m))throw U("Cannot convert a Symbol value to a number");if("string"==typeof m&&m.length>2)if(m=k(m),43===(t=N(m,0))||45===t){if(88===(n=N(m,2))||120===n)return NaN}else if(48===t){switch(N(m,1)){case 66:case 98:l=2,o=49;break;case 79:case 111:l=8,o=55;break;default:return+m}for(r=(c=T(m,2)).length,d=0;d<r;d++)if((code=N(c,d))<48||code>o)return NaN;return parseInt(c,l)}return+m};if(r(w,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var L,B=function(e){var t=arguments.length<1?0:$(P(e)),n=this;return v(A,n)&&S((function(){C(n)}))?f(Object(t),n,B):t},E=l?x($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;E.length>O;O++)m($,L=E[O])&&!m(B,L)&&y(B,L,I($,L));B.prototype=A,A.constructor=B,d(o,w,B)}},497:function(e,t,n){},498:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},503:function(e,t,n){"use strict";n(497)},504:function(e,t,n){"use strict";n.r(t);n(496),n(75),n(93);var l={props:{label:String,value:String|Number,placeholder:{type:String,default:""},type:{type:String,default:"text"},internal:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},uppercase:{type:Boolean,default:!1},options:{type:Object}},methods:{isBounipunUrl:function(s){return null!=s&&""!==s&&s.includes("bounipun.in")}}},o=(n(503),n(9)),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-box"},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[e.internal?n("div",{staticClass:"internal"}):e._e(),e._v(" "),n("label",{staticClass:"label",attrs:{title:e.options&&e.options.title?e.options.title:""}},[e._v(" "+e._s(e.label)+" ")])]),e._v(" "),n("input",{staticClass:"input-box",class:{uppercase:e.uppercase},attrs:{type:e.type,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),e.options&&e.options.indicator?n("span",{staticClass:"indicator",class:e.isBounipunUrl(e.value)?"bounipunUrl":"externalLink"},[e._v("\n    "+e._s(e.isBounipunUrl(e.value)?"âœ… Bounipun URL":"External Link")+"\n  ")]):e._e()])}),[],!1,null,"285d608e",null);t.default=component.exports},505:function(e,t,n){"use strict";n(498)},507:function(e,t,n){"use strict";n(500)},508:function(e,t,n){"use strict";n(501)},509:function(e,t,n){"use strict";n.r(t);var l={props:{label:String,value:Boolean,activeText:{type:String,default:"Active"},inactiveText:{type:String,default:"Inactive"},disabled:{type:Boolean,default:!1},width:{type:String,default:"120px"},labelCSS:{type:String,default:""}},data:function(){return{toggleOn:!1}},methods:{toggleState:function(){this.toggleOn=!this.value,this.$emit("input",this.toggleOn)}}},o=(n(508),n(9)),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-box"},[n("label",{staticClass:"label",style:e.labelCSS},[e._v(" "+e._s(e.label)+" :")]),e._v(" "),e.disabled?e._e():n("div",{staticClass:"switch-box center",class:{on:e.value},style:{width:e.width,pointerEvents:e.disabled?"none":""},on:{click:e.toggleState}},[n("div",{staticClass:"toggle center",class:{on:e.value}},[n("div",{staticClass:"circle"})]),e._v(" "),n("span",{class:{on:e.value}},[e._v("\n      "+e._s(e.value?e.activeText:e.inactiveText)+"\n    ")])]),e._v(" "),e.disabled?n("span",{class:{on:e.value}},[e._v("\n    "+e._s(e.value?e.activeText:e.inactiveText)+"\n  ")]):e._e()])}),[],!1,null,"084fb2d6",null);t.default=component.exports},510:function(e,t,n){"use strict";n.r(t);var l={props:{label:String,value:String,internal:{type:Boolean,default:!1},nonAdmin:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}},o=(n(505),n(9)),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-box",class:{nonAdmin:e.nonAdmin}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[e.internal?n("div",{staticClass:"internal"}):e._e(),e._v(" "),n("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")])]),e._v(" "),n("textarea",{staticClass:"textarea-box",attrs:{disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])}),[],!1,null,"65b6a339",null);t.default=component.exports},512:function(e,t,n){"use strict";n.r(t);n(507);var l=n(9),component=Object(l.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cancel-update center"},[n("img",{attrs:{src:"/icons/dark/minus.png"},on:{click:function(t){return e.$emit("close")}}})])}),[],!1,null,"756c3226",null);t.default=component.exports},516:function(e,t,n){},520:function(e,t,n){},521:function(e,t,n){"use strict";n.r(t);var l={props:{value:String,label:String,options:Array,disabled:{type:Boolean,default:!1},internal:{type:Boolean,default:!1},slim:{type:Boolean,default:!1}}},o=(n(523),n(9)),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-box"},[n("div",{staticStyle:{display:"flex","align-items":"center",width:"50%"}},[e.internal?n("div",{staticClass:"internal"}):e._e(),e._v(" "),void 0!==e.label?n("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]):e._e()]),e._v(" "),n("select",{staticClass:"select shadow",class:{slim:e.slim},attrs:{disabled:e.disabled},domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},e._l(e.options,(function(option,t){return n("option",{key:t,domProps:{value:option.value}},[e._v(" "+e._s(option.name)+" ")])})),0)])}),[],!1,null,"1ac5f7f6",null);t.default=component.exports},523:function(e,t,n){"use strict";n(516)},532:function(e,t,n){"use strict";n(520)},535:function(e,t,n){"use strict";n.r(t);var l=n(3),o=(n(22),n(13),n(33),n(35),n(36),n(547),n(266),n(28),n(41),n(169),{props:{label:{type:String,default:"Add Files"},multipleUpload:{type:Boolean,default:!0},uploadType:{type:String,default:"non-product"},uploaded:Array},data:function(){return{cancelToken:this.$axios.CancelToken,images:[],uploadImageAPI:"/uploadImage"}},methods:{clearFileSelection:function(){this.images=[]},assignImages:function(e){var t=this;if(console.log("ASSIGN IMAGES WAS CALLED"),!(!e.length>0)){this.images=[];e.forEach((function(image){var e={file:null,previewURL:"https://bounipun-ecom.s3.ap-south-1.amazonaws.com/original/"+image.path,cancelToken:null,uploadPercentage:100,uploaded:!0,mainImage:image.mainImage,_id:image._id,path:image.path};t.images.push(e)}))}},addFiles:function(){this.$refs.selector.click()},handleFileSelection:function(){var e=this,t=this.$refs.selector.files;this.multipleUpload||(this.images=[]),t.forEach((function(t){var n=e.createImageObject(t);e.images.push(n),e.uploadFile(n),e.resetFileSelection()}))},createImageObject:function(e){return{file:e,previewURL:URL.createObjectURL(e),cancelToken:this.cancelToken.source(),uploadPercentage:0,uploaded:!1,mainImage:!1,_id:"",path:""}},uploadFile:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var l,o,c,r,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(l=new FormData).append("productImage",e.file),l.append("uploadType",t.uploadType),o=t.setUploadConfig(e),c=t.$axios.$post(t.uploadImageAPI,l,o),n.next=7,t.$task(c);case 7:if(r=n.sent,d=r.response,!(m=r.error)){n.next=13;break}return t.$axios.isCancel(m)&&console.log("Upload request cancelled"),n.abrupt("return");case 13:t.updateImageObject(e,d);case 14:case"end":return n.stop()}}),n)})))()},setUploadConfig:function(e){return{cancelToken:e.cancelToken.token,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(progress){e.uploadPercentage=parseInt(Math.round(progress.loaded/progress.total*100))}}},updateImageObject:function(e,t){e.uploaded=100===e.uploadPercentage,e.path=t.name,e._id=t._id,this.$emit("updated",this.images)},setMainImage:function(e,t){var n=this;if(t)for(var i=0;i<this.images.length;i++)i!==e&&(this.images[i].mainImage=!1);setTimeout((function(){n.images[e].mainImage=!0,n.$emit("updated",n.images)}),100)},removeFile:function(e){this.images[e].uploaded||this.images[e].cancelToken.cancel(),this.images.splice(e,1),this.$emit("updated",this.images)},resetFileSelection:function(){this.$refs.selector.type="text",this.$refs.selector.type="file"}}}),c=(n(532),n(9)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container"},[n("label",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),n("input",{ref:"selector",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:e.multipleUpload},on:{change:function(t){return e.handleFileSelection()}}}),e._v(" "),n("button",{staticClass:"file-selector",on:{click:function(t){return e.addFiles()}}},[e._v("\n    Select File(s)\n  ")]),e._v(" "),n("div",{staticClass:"previews"},[e._l(e.images,(function(image,t){return n("div",{key:t,staticClass:"preview center",class:{uploading:!image.uploaded},style:{backgroundImage:"url("+image.previewURL+")"}},[n("div",{staticClass:"actions center-col"},[n("img",{staticClass:"remove-file",attrs:{src:"/icons/light/remove-icon.png"},on:{click:function(n){return e.removeFile(t)}}}),e._v(" "),e.multipleUpload?n("input",{directives:[{name:"model",rawName:"v-model",value:image.mainImage,expression:"image.mainImage"}],staticClass:"set-main-image",attrs:{type:"checkbox"},domProps:{checked:image.mainImage,checked:Array.isArray(image.mainImage)?e._i(image.mainImage,null)>-1:image.mainImage},on:{change:[function(t){var n=image.mainImage,l=t.target,o=!!l.checked;if(Array.isArray(n)){var c=e._i(n,null);l.checked?c<0&&e.$set(image,"mainImage",n.concat([null])):c>-1&&e.$set(image,"mainImage",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(image,"mainImage",o)},function(n){return e.setMainImage(t,n.target.checked)}]}}):e._e()]),e._v(" "),image.uploaded?e._e():n("div",{staticClass:"progress center"},[n("vue-ellipse-progress",{attrs:{color:"#41bf89",size:70,thickness:7,legend:!0,fontSize:"1rem",progress:image.uploadPercentage}},[n("img",{staticClass:"upload-icon",attrs:{slot:"legend-caption",wdith:"60px",src:"/icons/light/upload-cloud.svg"},slot:"legend-caption"})])],1),e._v(" "),image.mainImage?n("span",{staticClass:"main-image"},[e._v(" Main Image ")]):e._e(),e._v(" "),n("span",{staticClass:"numbering"},[e._v(" "+e._s(t+1)+" ")])])})),e._v(" "),0===e.images.length?n("div",{staticClass:"not-uploaded",staticStyle:{"margin-left":"10px"}},[n("img",{attrs:{src:"/icons/light/upload-cloud.svg"}}),e._v(" "),n("span",[e._v(" No Image(s) uploaded yet ")])]):e._e()],2)])}),[],!1,null,"5d760990",null);t.default=component.exports},630:function(e,t,n){},698:function(e,t,n){"use strict";n(630)},733:function(e,t,n){"use strict";n.r(t);var l=n(3),o=(n(22),n(169),n(47),n(28),n(32),n(56),n(560)),c={props:{model:String},data:function(){return{editMode:!1,doc:{_id:"",name:"",slideshow:[],productSections:[],alternateSections:[],description:"",status:!1},allProductLists:[],loading:!1,updated:!1}},mounted:function(){this.fetchAllProductLists()},methods:{alternateImageListUpdated:function(e,t){this.doc.alternateSections[t].image=e.length>0?e[0].path:""},removeProductSection:function(e){this.doc.productSections.splice(e,1)},addNewProductSection:function(){this.doc.productSections.push({heading:"",tagline:"",list:null})},addNewAlternateSection:function(){this.doc.alternateSections.push({heading:"",paragraph:"",image:"",key:Object(o.a)()})},removeAlternateSection:function(e){this.doc.alternateSections.splice(e,1)},fetchAllProductLists:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fetchCollection("product_lists");case 2:n=t.sent,e.allProductLists=n.docs.map((function(e){var t=e._id;return{name:e.name,value:t}})),e.allProductLists.unshift({name:"Select Product List",value:null});case 5:case"end":return t.stop()}}),t)})))()},slideshowListUpdated:function(e){this.doc.slideshow=e},updateDocument:function(e,details,t){var n=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loading=!0,e.next=3,n.$updateDocument(n.model,n.doc,n.editMode);case 3:if(t=e.sent,n.loading=!1,t.updated){e.next=7;break}return e.abrupt("return");case 7:n.$emit("updated"),n.populateForm(t.doc),n.$flash(n);case 10:case"end":return e.stop()}}),e)})))()},deleteDocument:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$deleteDocument(e.model,e.doc._id);case 3:if(n=t.sent,e.loading=!1,n.deleted){t.next=7;break}return t.abrupt("return");case 7:e.$emit("updated"),e.resetForm(),e.$flash(e);case 10:case"end":return t.stop()}}),t)})))()},populateForm:function(details){var e=details._id,t=details.name,n=details.slideshow,l=details.productSections,o=details.alternateSections,c=details.description,r=details.status;this.doc={_id:e,name:t,slideshow:n,productSections:l,alternateSections:o,description:c,status:r},this.editMode=!0},closeForm:function(){this.resetForm(),this.$emit("close")},resetForm:function(){this.populateForm({_id:"",name:"",slideshow:[],productSections:[],alternateSections:[],description:"",status:!1}),this.editMode=!1}}},r=(n(698),n(9)),component=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contents"},[n("CancelUpdate",{on:{close:e.closeForm}}),e._v(" "),n("h2",{staticClass:"heading"},[e._v(" "+e._s(e.editMode?"Update":"Add New")+" Homepage Layout ")]),e._v(" "),e.editMode?n("InputBox",{attrs:{label:"Homepage Layout ID",disabled:"",internal:!0},model:{value:e.doc._id,callback:function(t){e.$set(e.doc,"_id",t)},expression:"doc._id"}}):e._e(),e._v(" "),n("InputBox",{attrs:{label:"Layout Name"},model:{value:e.doc.name,callback:function(t){e.$set(e.doc,"name",t)},expression:"doc.name"}}),e._v(" "),n("UploadImage",{ref:"imageUploader",attrs:{multipleUpload:!0,label:"Set Slideshow Images"},on:{updated:e.slideshowListUpdated}}),e._v(" "),n("div",{staticClass:"product-sections"},[n("label",{staticClass:"label"},[e._v(" Set Product Sections: ")]),e._v(" "),e._l(e.doc.productSections,(function(section,t){return n("div",{key:t,staticClass:"section shadow"},[n("InputBox",{attrs:{label:"Heading"},model:{value:section.heading,callback:function(t){e.$set(section,"heading",t)},expression:"section.heading"}}),e._v(" "),n("InputBox",{attrs:{label:"Tagline"},model:{value:section.tagline,callback:function(t){e.$set(section,"tagline",t)},expression:"section.tagline"}}),e._v(" "),n("SelectBox",{attrs:{options:e.allProductLists,label:"Select Product List"},model:{value:section.list,callback:function(t){e.$set(section,"list",t)},expression:"section.list"}}),e._v(" "),n("button",{staticClass:"action delete",staticStyle:{"font-size":"9px",position:"absolute",bottom:"0",right:"0"},on:{click:function(n){return e.removeProductSection(t)}}},[e._v(" Remove Product Section ")])],1)})),e._v(" "),n("div",{staticClass:"center"},[n("button",{staticClass:"shadow add-section",on:{click:e.addNewProductSection}},[e._v(" + Add Product Section ")])])],2),e._v(" "),n("div",{staticClass:"alternate-sections"},[n("label",{staticClass:"label"},[e._v(" Set Alternate Sections: ")]),e._v(" "),e._l(e.doc.alternateSections,(function(section,t){return n("div",{key:section.key,staticClass:"section shadow"},[n("InputBox",{attrs:{label:"Heading"},model:{value:section.heading,callback:function(t){e.$set(section,"heading",t)},expression:"section.heading"}}),e._v(" "),n("TextBox",{attrs:{label:"paragraph"},model:{value:section.paragraph,callback:function(t){e.$set(section,"paragraph",t)},expression:"section.paragraph"}}),e._v(" "),n("UploadImage",{ref:"alternateImageUploader",refInFor:!0,attrs:{multipleUpload:!1,label:"Set Background Image"},on:{updated:function(n){return e.alternateImageListUpdated(n,t)}}}),e._v(" "),n("button",{staticClass:"action delete",staticStyle:{"font-size":"9px",position:"absolute",bottom:"0",right:"0"},on:{click:function(n){return e.removeAlternateSection(t)}}},[e._v(" Remove Alternate Section ")])],1)})),e._v(" "),n("div",{staticClass:"center"},[n("button",{staticClass:"shadow add-section",on:{click:e.addNewAlternateSection}},[e._v(" + Add Alternate Section ")])])],2),e._v(" "),n("TextBox",{attrs:{label:"Description",internal:!0},model:{value:e.doc.description,callback:function(t){e.$set(e.doc,"description",t)},expression:"doc.description"}}),e._v(" "),n("Toggle",{attrs:{label:"Status"},model:{value:e.doc.status,callback:function(t){e.$set(e.doc,"status",t)},expression:"doc.status"}}),e._v(" "),n("div",{staticClass:"center-space"},[e.loading?n("img",{staticClass:"loading",attrs:{src:"/loading.gif"}}):e._e(),e._v(" "),e.updated?n("img",{staticClass:"action-complete",attrs:{src:"/complete.gif"}}):e._e(),e._v(" "),n("button",{staticClass:"action",attrs:{disabled:e.loading},on:{click:e.updateDocument}},[e._v(" "+e._s(e.editMode?"Edit":"Add")+" Homepage Layout ")]),e._v(" "),e.editMode?n("button",{staticClass:"action delete",attrs:{disabled:e.loading},on:{click:e.deleteDocument}},[e._v(" Delete ")]):e._e()])],1)}),[],!1,null,"3e816f43",null);t.default=component.exports;installComponents(component,{CancelUpdate:n(512).default,InputBox:n(504).default,UploadImage:n(535).default,SelectBox:n(521).default,TextBox:n(510).default,Toggle:n(509).default})}}]);