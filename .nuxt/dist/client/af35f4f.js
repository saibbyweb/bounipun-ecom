(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{667:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,d="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",c=null,l=function(t){return null!==c||(c=new Promise((function(e,n){if("undefined"!=typeof window)if(window.Stripe&&t&&console.warn(d),window.Stripe)e(window.Stripe);else try{var script=function(){for(var t=document.querySelectorAll('script[src^="'.concat(r,'"]')),i=0;i<t.length;i++){var script=t[i];if(o.test(script.src))return script}return null}();script&&t?console.warn(d):script||(script=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",script=document.createElement("script");script.src="".concat(r).concat(e);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(script),script}(t)),script.addEventListener("load",(function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))})),script.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(t){return void n(t)}else e(null)}))),c},f=function(t,e,n){if(null===t)return null;var r=t.apply(void 0,e);return function(t,e){t&&t._registerWrapper&&t._registerWrapper({name:"stripe-js",version:"1.22.0",startTime:e})}(r,n),r},m=Promise.resolve().then((function(){return l(null)})),y=!1;m.catch((function(t){y||console.warn(t)}));var h=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];y=!0;var r=Date.now();return m.then((function(t){return f(t,e,r)}))}},668:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return m}));var r=!1;try{r=!0}catch(t){r=!0}r&&console.log("Prod env set âœ…");var o,d,c={keyId:""},l={publishableKey:""};d=l,(o=c).keyId="rzp_test_LnJPEC0MOtvlSn",d.publishableKey="pk_test_Ct9bX6YRz5YItn8gCGGO4ypy00KzN2R4mG",r&&"bounipun.in"===window.location.hostname&&(o.keyId="rzp_live_bzpnf6YPxKKfTh",d.publishableKey="pk_live_51J0qm7SAJnKcquR3JZ1T9qVG8lGA4bIflVcp5TZFWYP06n6XPLWojyNYUc5PMUFEwWCoe62IHW9HsnebRlpl5Scw00LC38Ktxu");var f=c.keyId,m=l.publishableKey}).call(this,n(144))},725:function(t,e,n){var content=n(829);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("ef9fc680",content,!0,{sourceMap:!1})},796:function(t,e,n){"use strict";n.r(e);var r=n(24),o=n(3),d=(n(23),n(281),n(81),n(27),n(48),n(43),n(26),n(13),n(63),n(40),n(64),n(667)),c=n(668);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m="We are facing some technical difficulties at the moment. Kindly, try again after sometime.",y="Could not process payment. Kindly try after sometime.",h={props:{demoMode:Boolean,type:String,currency:String,prefferedGateway:String,amount:Number|String,address:Object,payload:Object,actionBtnText:{type:String,default:"Make Payment"}},data:function(){return{paymentIntent:{gatewayToken:"",dbId:""},enableCheckout:!1,processing:!1,stripe:{elements:null,sdk:null,shippingAddress:null,billingAddress:null},gateway:"",razorpayCheckout:null,paymentIntentCreated:!1,error:{status:!1,msg:""}}},mounted:function(){console.log("ðŸ‘‹ Hello from Process Payment component"),this.initializePayment()},methods:{proceedPayment:function(){if(this.demoMode)this.$emit("paymentProcessed");else if(!this.processing)switch(this.gateway){case"razorpay":this.razorpayCheckout.open();break;case"stripe":this.stripeCheckout()}},initializePayment:function(){if(this.gateway="razorpay","stripe"===this.gateway)this.createStipeCardElement(),this.createStripeShippingAndBillingAddresses();this.createPaymentIntent()},createPaymentIntent:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$post("/createPaymentIntent/v2",{type:t.type,amount:t.amount,currency:t.currency,gateway:t.gateway,billingAddress:t.billingAddress,shippingAdress:t.shippingAddress,payload:t.payload});case 2:if(!1!==(n=e.sent).resolved){e.next=5;break}return e.abrupt("return");case 5:r=n.response,o=r.gatewayToken,d=r.intentId,c=r.amount,t.paymentIntent.gatewayToken=o,t.paymentIntent.dbId=d,e.t0=t.gateway,e.next="razorpay"===e.t0?11:13;break;case 11:return t.setupRazorpayOrder(c),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})))()},createStipeCardElement:function(){var t=arguments,e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,element;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:{hidePostalCode:!0},o=e.stripe,n.next=4,Object(d.a)(c.b);case 4:o.sdk=n.sent,o.elements=o.sdk.elements(),(element=o.elements.create("card",r)).mount("#stripe-card"),element.on("change",(function(t){e.error.status=!1,e.enableCheckout=!!t.complete}));case 9:case"end":return n.stop()}}),n)})))()},setupRazorpayOrder:function(t){var e=this.address,n=e.firstName,r=e.surName,o=e.email,d=e.mobileNumber,l={key:c.a,order_id:this.paymentIntent.gatewayToken,currency:this.currency,name:"Bounipun Ecom",description:"Transaction",image:"https://bounipun.in/icons/light/logo.png",prefill:{name:"".concat(n," ").concat(r),email:o,contact:d},theme:{color:"#3399cc"},amount:t,handler:this.onRazorpayPaymentSuccess};this.razorpayCheckout=new Razorpay(l),this.enableCheckout=!0},onRazorpayPaymentSuccess:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.razorpay_order_id,o=t.razorpay_payment_id,d=t.razorpay_signature,n.next=3,e.$post("/razorpayPaymentSuccess/v2",{gatewayToken:r,transactionId:o,signature:d,type:e.type});case 3:e.$emit("paymentProcessed");case 4:case"end":return n.stop()}}),n)})))()},createStripeShippingAndBillingAddresses:function(){var t=this.address,e=t.firstName,n=t.surName,r=t.email,o=t.city,d=t.addressLine1,c=t.addressLine2,l=t.postalCode,m=t.countryIsoCode;this.stripe.shippingAddress={address:{line1:"".concat(d," | ").concat(c),country:m},name:"".concat(e," ").concat(n)},this.stripe.billingAddress={name:this.stripe.shippingAddress.name,email:r,address:f({city:o,postal_code:l},this.stripe.shippingAddress.address)}},createStripePaymentMethod:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setLoading(!0),n=t.stripe.elements.getElement("card"),e.next=4,t.stripe.sdk.createPaymentMethod({type:"card",card:n,billing_details:t.stripe.billingAddress});case 4:if(r=e.sent,o=r.paymentMethod,d=r.error,t.setLoading(!1),!d){e.next=10;break}return e.abrupt("return",t.setError(!0,y));case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))()},confirmStripeCardPayment:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setLoading(!0),n.next=3,e.stripe.sdk.confirmCardPayment(e.paymentIntent.gatewayToken,{payment_method:t,shipping:e.stripe.shippingAddress});case 3:return r=n.sent,o=r.error,e.setLoading(!1),n.abrupt("return",!o||e.setError(!0,m));case 7:case"end":return n.stop()}}),n)})))()},stripeCheckout:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.processing){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.createStripePaymentMethod();case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,t.confirmStripeCardPayment(n.id);case 9:if(e.sent){e.next=13;break}return t.$emit("paymentFailed"),e.abrupt("return");case 13:t.$emit("paymentProcessed");case 14:case"end":return e.stop()}}),e)})))()},setLoading:function(t){this.$store.commit("customer/setLoading",t),this.processing=t},setError:function(t,e){return this.error.status=t,this.error.msg=e,null}}},v=h,w=(n(828),n(8)),component=Object(w.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"process-payment flex center col"},["stripe"===t.gateway?n("div",{attrs:{id:"stripe-card"}}):t._e(),t._v(" "),n("button",{staticClass:"checkout-btn action",class:{disabled:!t.enableCheckout},on:{click:t.proceedPayment}},[t._v("\n    "+t._s(t.actionBtnText)+"\n  ")])])}),[],!1,null,"69ba1220",null);e.default=component.exports},828:function(t,e,n){"use strict";n(725)},829:function(t,e,n){var r=n(17),o=n(29),d=n(30),c=n(31),l=n(32),f=n(33),m=n(34),y=n(35),h=n(36),v=n(37),w=n(38),x=n(39),k=r(!1),P=o(d),S=o(c),j=o(l),z=o(f),O=o(m),C=o(y),_=o(h),R=o(v),I=o(w),A=o(x);k.push([t.i,'@font-face{font-family:"SF-Pro";font-style:normal;font-weight:400;font-display:swap;src:url('+P+') format("truetype")}@font-face{font-family:"SF-Pro SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+S+') format("truetype")}@font-face{font-family:"SF-Pro Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+j+') format("truetype")}@font-face{font-family:"Poppins";font-style:normal;font-weight:400;font-display:swap;src:url('+z+') format("truetype")}@font-face{font-family:"Poppins SemiBold";font-style:normal;font-weight:700;font-display:swap;src:url('+O+') format("truetype")}@font-face{font-family:"Poppins Bold";font-style:normal;font-weight:900;font-display:swap;src:url('+C+') format("truetype")}@font-face{font-family:"Garamond";font-style:normal;font-weight:400;font-display:swap;src:url('+_+') format("truetype")}@font-face{font-family:"Garamond-Bold";font-style:normal;font-weight:800;font-display:swap;src:url('+R+') format("truetype")}@font-face{font-family:"Charmonman";font-style:normal;font-weight:400;font-display:swap;src:url('+I+') format("truetype")}@font-face{font-family:"DancingScript-Regular";font-style:normal;font-weight:400;font-display:swap;src:url('+A+') format("truetype")}.w-bold b[data-v-69ba1220]{font-family:"SF-Pro Bold";font-size:14px;text-transform:uppercase}html[data-v-69ba1220]{scroll-behavior:smooth}body[data-v-69ba1220]{margin:0!important;padding:0}*[data-v-69ba1220]{font-family:"Poppins";outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;box-sizing:border-box}.pad-10[data-v-69ba1220]{padding:6%}button[data-v-69ba1220]{cursor:pointer;border:none;padding:1% 3%}button .icon[data-v-69ba1220]{width:7%}button.sub-action[data-v-69ba1220]{background-color:green}button.action[data-v-69ba1220]{position:relative;background-color:#333;color:#fff;font-family:"Poppins SemiBold";font-size:16px;text-transform:uppercase;transition:all .2s ease-in-out}button.action[data-v-69ba1220]:hover{background-color:#0e0e0e}@media(max-width:768px){button.action[data-v-69ba1220]{padding:2% 5%;width:100%}}button.action.delete[data-v-69ba1220]{background-color:#9d2424;font-size:10px}button.action.delete[data-v-69ba1220]:hover{background-color:#e01010}button.small[data-v-69ba1220]{font-size:11px;padding:1% 3%}button.clear[data-v-69ba1220]{background:transparent;padding:2% 5%}h1[data-v-69ba1220],h2[data-v-69ba1220],h3[data-v-69ba1220],h4[data-v-69ba1220],h5[data-v-69ba1220],h6[data-v-69ba1220],p[data-v-69ba1220],span[data-v-69ba1220]{margin:0;padding:0;color:#333}.page[data-v-69ba1220]{min-height:80vh;padding:5%;margin-top:20vh}@media(max-width:768px){.page[data-v-69ba1220]{margin-top:13vh;padding:7%}}.page.-wh[data-v-69ba1220]{padding:0 0 5%}.page.side-pad[data-v-69ba1220]{padding:2%}@media(max-width:768px){.page.-broad[data-v-69ba1220]{padding:2%}}.page .page-header[data-v-69ba1220]{width:100%;height:8vh;margin-bottom:20px;background-color:#efefef}@media(max-width:768px){.page .page-header[data-v-69ba1220]{height:10vw}}.page .page-header .title[data-v-69ba1220]{color:#333;font-family:"Poppins SemiBold";text-transform:uppercase;font-size:1.3vw}@media(max-width:768px){.page .page-header .title[data-v-69ba1220]{font-size:5.4vw}}.page .side-pad[data-v-69ba1220]{padding:0 5%}@media(max-width:768px){.page .side-pad[data-v-69ba1220]{padding:0 10%}}.pointer[data-v-69ba1220]{cursor:pointer}.center[data-v-69ba1220],.center-col[data-v-69ba1220]{display:flex;justify-content:center;align-items:center}.center-col[data-v-69ba1220]{flex-direction:column}.center-space[data-v-69ba1220]{display:flex;justify-content:space-around;align-items:center}.contents[data-v-69ba1220]{position:relative}.white[data-v-69ba1220]{color:#fff}.scrollable-list[data-v-69ba1220]{display:flex;overflow-x:auto;padding:5px}@media screen and (min-width:768px){.scrollable-list[data-v-69ba1220]{justify-content:center}}.scrollable-list[data-v-69ba1220]::-webkit-scrollbar{display:none}.scrollable-list .list[data-v-69ba1220]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.shadow[data-v-69ba1220]{box-shadow:1px 1px 15px rgba(0,0,0,.16)}.action-complete[data-v-69ba1220]{margin-top:10px;width:50px}[data-v-69ba1220]::-webkit-scrollbar{display:none}p.msg[data-v-69ba1220]{color:#fff;font-size:10px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:5px;border-radius:4px;margin:10px 0}p.msg.error[data-v-69ba1220]{background-color:#a93737}p.msg.success[data-v-69ba1220]{background-color:#319a67}.flex[data-v-69ba1220]{display:flex}.flex.around[data-v-69ba1220]{justify-content:space-around}.flex.between[data-v-69ba1220]{justify-content:space-between}.flex.evenly[data-v-69ba1220]{justify-content:space-evenly}.flex.col[data-v-69ba1220]{flex-direction:column}.flex.wrap[data-v-69ba1220]{flex-wrap:wrap}.flex.center[data-v-69ba1220]{justify-content:center}.flex.center[data-v-69ba1220],.flex.v-center[data-v-69ba1220]{align-items:center}.flex.j-center[data-v-69ba1220]{justify-content:center}.flex.start[data-v-69ba1220]{justify-content:flex-start;align-items:flex-start}.flex.start.center[data-v-69ba1220]{align-items:center}.flex.baseline[data-v-69ba1220]{align-items:baseline}.flex.end[data-v-69ba1220]{justify-content:flex-end}.flex.end.center[data-v-69ba1220]{align-items:center}a[data-v-69ba1220]{text-decoration:none}@media(max-width:768px){.onlyDesktop[data-v-69ba1220]{display:none}}.onlyMobile[data-v-69ba1220]{display:none}@media(max-width:768px){.onlyMobile[data-v-69ba1220]{display:inline;display:initial}}.process-payment[data-v-69ba1220]{width:100%}#stripe-card[data-v-69ba1220]{margin:20px 0;width:100%;min-width:30vw;max-width:500px;background-color:#fff;box-shadow:1px 1px 15px rgba(0,0,0,.16);padding:3%}@media(max-width:768px){#stripe-card[data-v-69ba1220]{width:90vw}}#stripe-mount[data-v-69ba1220]{margin-top:20px;width:100%;background-color:#fff;padding:3%}.checkout-btn[data-v-69ba1220]{width:100%;min-width:10vw;padding:10px 15px;margin-top:20px}@media(max-width:768px){.checkout-btn[data-v-69ba1220]{min-width:33vw;padding:10px 15px!important}}.checkout-btn.disabled[data-v-69ba1220],.checkout-btn.disabled[data-v-69ba1220]:hover{background-color:grey}',""]),t.exports=k}}]);